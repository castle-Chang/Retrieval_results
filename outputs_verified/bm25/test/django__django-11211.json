{
  "instance_id": "django__django-11211",
  "query": "Prefetch related is not working when used GFK for model that uses UUID field as PK.\nDescription\n\t\nHow to reproduce:\ncreate model with UUID as primary key\nclass Foo(models.Model):\n\tid = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)\n\t...\ncreate another model with GFK to model Foo\nclass Bar(models.Model):\n\tfoo_content_type = models.ForeignKey(\n\t\tContentType, related_name='actor',\n\t\ton_delete=models.CASCADE, db_index=True\n\t)\n\tfoo_object_id = models.CharField(max_length=255, db_index=True)\n\tfoo = GenericForeignKey('foo_content_type', 'foo_object_id')\n\t...\nand try to get queryset with prefetch related (django orm engine return None for attribute foo):\nBar.objects.all().prefetch_related('foo')\nThanks a lot for your attention! Also i wanna point out some related bug report from third party library in which previously i faced with that issue, maybe it would useful – ​https://github.com/justquick/django-activity-stream/issues/245\n",
  "ground_truth": {
    "files": [
      "django/db/models/fields/__init__.py"
    ],
    "locations": [
      "django/db/models/fields/__init__.py::UUIDField",
      "django/db/models/fields/__init__.py::UUIDField.get_internal_type",
      "django/db/models/fields/__init__.py::UUIDField.get_db_prep_value"
    ]
  },
  "predictions": [
    "tests/model_fields/test_foreignkey.py::ForeignKeyTests.test_recursive_fks_get_col",
    "tests/model_fields/test_foreignkey.py::ForeignKeyTests.test_fk_to_fk_get_col_output_field",
    "tests/model_inheritance/test_abstract_inheritance.py::AbstractInheritanceTests.test_shadow_related_name_when_set_to_none",
    "tests/model_inheritance/test_abstract_inheritance.py::AbstractInheritanceTests.test_reverse_foreign_key",
    "tests/migrations/test_optimizer.py::OptimizerTests.test_optimize_through_create",
    "tests/invalid_models_tests/test_models.py::FieldNamesTests.test_db_column_clash",
    "tests/schema/tests.py::SchemaTests.test_referenced_field_without_constraint_rename_inside_atomic_block",
    "tests/schema/tests.py::SchemaTests.test_referenced_table_without_constraint_rename_inside_atomic_block",
    "tests/invalid_models_tests/test_models.py::OtherModelTests.test_single_primary_key",
    "tests/model_inheritance/test_abstract_inheritance.py::AbstractInheritanceTests.test_shadowed_fkey_id"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "ba726067604ce5a8ca3919edf653496722b433ab",
    "total_functions_indexed": 22422,
    "retrieval_time_seconds": 1.7225720882415771
  },
  "raw_output": "[{\"doc_id\": \"tests/model_fields/test_foreignkey.py::ForeignKeyTests.test_recursive_fks_get_col\", \"score\": 138.30468883224677}, {\"doc_id\": \"tests/model_fields/test_foreignkey.py::ForeignKeyTests.test_fk_to_fk_get_col_output_field\", \"score\": 136.67960316281966}, {\"doc_id\": \"tests/model_inheritance/test_abstract_inheritance.py::AbstractInheritanceTests.test_shadow_related_name_when_set_to_none\", \"score\": 127.67268253487744}, {\"doc_id\": \"tests/model_inheritance/test_abstract_inheritance.py::AbstractInheritanceTests.test_reverse_foreign_key\", \"score\": 127.14536893914119}, {\"doc_id\": \"tests/migrations/test_optimizer.py::OptimizerTests.test_optimize_through_create\", \"score\": 124.85495955415459}, {\"doc_id\": \"tests/invalid_models_tests/test_models.py::FieldNamesTests.test_db_column_clash\", \"score\": 124.45264809598689}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_referenced_field_without_constraint_rename_inside_atomic_block\", \"score\": 121.86389912125566}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_referenced_table_without_constraint_rename_inside_atomic_block\", \"score\": 120.43724980867349}, {\"doc_id\": \"tests/invalid_models_tests/test_models.py::OtherModelTests.test_single_primary_key\", \"score\": 116.90544066741549}, {\"doc_id\": \"tests/model_inheritance/test_abstract_inheritance.py::AbstractInheritanceTests.test_shadowed_fkey_id\", \"score\": 116.0851494317147}]"
}