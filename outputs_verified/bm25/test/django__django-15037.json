{
  "instance_id": "django__django-15037",
  "query": "Foreign key to a specific field is not handled in inspectdb\nDescription\n\t \n\t\t(last modified by Tim Graham)\n\t \nif you have a DB like that\nCREATE TABLE foo ( id serial primary key, other_id int UNIQUE);\nCREATE TABLE bar (\n\tid serial primary key, other_id int,\n\tconstraint myconst \n\tFOREIGN KEY(other_id) references foo(other_id)\n);\nthe generated model for the bar table will have the other_id be a FK to foo and not foo(other_id).\nI'm attaching a potential fix for this. Sorry I had no time for the UTs.\n",
  "ground_truth": {
    "files": [
      "django/core/management/commands/inspectdb.py"
    ],
    "locations": [
      "django/core/management/commands/inspectdb.py::Command",
      "django/core/management/commands/inspectdb.py::Command.handle_inspection"
    ]
  },
  "predictions": [
    "django/db/models/sql/compiler.py::SQLCompiler.collapse_group_by",
    "tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_autogenerated_table_name_clash_database_routers_installed",
    "tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_table_name_clash_database_routers_installed",
    "django/db/backends/sqlite3/introspection.py::DatabaseIntrospection.get_relations",
    "tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_field_table_name_clash_database_routers_installed",
    "django/db/backends/sqlite3/introspection.py::DatabaseIntrospection.get_key_columns",
    "django/db/models/fields/__init__.py::PositiveIntegerRelDbTypeMixin.rel_db_type",
    "tests/introspection/tests.py::IntrospectionTests.test_get_relations_alt_format",
    "tests/backends/sqlite/test_introspection.py::IntrospectionTests.test_get_primary_key_column",
    "django/db/backends/mysql/base.py::DatabaseWrapper.check_constraints"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "dab48b7482295956973879d15bfd4d3bb0718772",
    "total_functions_indexed": 25232,
    "retrieval_time_seconds": 1.1856482028961182
  },
  "raw_output": "[{\"doc_id\": \"django/db/models/sql/compiler.py::SQLCompiler.collapse_group_by\", \"score\": 101.31185938384077}, {\"doc_id\": \"tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_autogenerated_table_name_clash_database_routers_installed\", \"score\": 93.00894768012786}, {\"doc_id\": \"tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_table_name_clash_database_routers_installed\", \"score\": 92.1535694184102}, {\"doc_id\": \"django/db/backends/sqlite3/introspection.py::DatabaseIntrospection.get_relations\", \"score\": 91.47029200079366}, {\"doc_id\": \"tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_field_table_name_clash_database_routers_installed\", \"score\": 88.70046434105697}, {\"doc_id\": \"django/db/backends/sqlite3/introspection.py::DatabaseIntrospection.get_key_columns\", \"score\": 83.72876110618965}, {\"doc_id\": \"django/db/models/fields/__init__.py::PositiveIntegerRelDbTypeMixin.rel_db_type\", \"score\": 83.38497109905234}, {\"doc_id\": \"tests/introspection/tests.py::IntrospectionTests.test_get_relations_alt_format\", \"score\": 81.05690939818106}, {\"doc_id\": \"tests/backends/sqlite/test_introspection.py::IntrospectionTests.test_get_primary_key_column\", \"score\": 79.8726347443767}, {\"doc_id\": \"django/db/backends/mysql/base.py::DatabaseWrapper.check_constraints\", \"score\": 79.63229919809889}]"
}