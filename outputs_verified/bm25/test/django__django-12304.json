{
  "instance_id": "django__django-12304",
  "query": "Enumeration Types are not usable in templates.\nDescription\n\t \n\t\t(last modified by Mariusz Felisiak)\n\t \nThe new â€‹enumeration types are great but can't be used in Django templates due to their being callable. For example this doesn't work:\n{% if student.year_in_school == YearInSchool.FRESHMAN %}\nThis is because YearInSchool, being a class, is callable, and Django Templates always call callables with no arguments. The call fails because the required value argument is missing.\nThe easy solution would be to declare do_not_call_in_templates = True on the various Choices classes.\n",
  "ground_truth": {
    "files": [
      "django/db/models/enums.py"
    ],
    "locations": [
      "django/db/models/enums.py::ChoicesMeta",
      "django/db/models/enums.py::ChoicesMeta.__new__",
      "django/db/models/enums.py::ChoicesMeta.__contains__"
    ]
  },
  "predictions": [
    "django/test/testcases.py::SimpleTestCase._assert_template_used",
    "django/forms/fields.py::ChoiceField._set_choices",
    "django/views/csrf.py::csrf_failure",
    "tests/csrf_tests/tests.py::CsrfViewMiddlewareTestMixin.test_process_response_get_token_not_used",
    "django/db/models/fields/related.py::RelatedField.formfield",
    "django/db/models/query.py::QuerySet._next_is_sticky",
    "django/shortcuts.py::resolve_url",
    "django/db/models/fields/files.py::ImageField.update_dimension_fields",
    "django/db/models/sql/compiler.py::SQLInsertCompiler.prepare_value",
    "django/contrib/auth/base_user.py::AbstractBaseUser.is_authenticated"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "4c1b401e8250f9f520b3c7dc369554477ce8b15a",
    "total_functions_indexed": 23148,
    "retrieval_time_seconds": 1.4233453273773193
  },
  "raw_output": "[{\"doc_id\": \"django/test/testcases.py::SimpleTestCase._assert_template_used\", \"score\": 75.64818348467077}, {\"doc_id\": \"django/forms/fields.py::ChoiceField._set_choices\", \"score\": 70.24044870862825}, {\"doc_id\": \"django/views/csrf.py::csrf_failure\", \"score\": 68.92705693777285}, {\"doc_id\": \"tests/csrf_tests/tests.py::CsrfViewMiddlewareTestMixin.test_process_response_get_token_not_used\", \"score\": 68.24485921629913}, {\"doc_id\": \"django/db/models/fields/related.py::RelatedField.formfield\", \"score\": 67.76023485171541}, {\"doc_id\": \"django/db/models/query.py::QuerySet._next_is_sticky\", \"score\": 67.06114335896311}, {\"doc_id\": \"django/shortcuts.py::resolve_url\", \"score\": 66.83443692648008}, {\"doc_id\": \"django/db/models/fields/files.py::ImageField.update_dimension_fields\", \"score\": 66.34426117895495}, {\"doc_id\": \"django/db/models/sql/compiler.py::SQLInsertCompiler.prepare_value\", \"score\": 65.3974580343675}, {\"doc_id\": \"django/contrib/auth/base_user.py::AbstractBaseUser.is_authenticated\", \"score\": 65.15710089621729}]"
}