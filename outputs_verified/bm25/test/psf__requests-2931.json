{
  "instance_id": "psf__requests-2931",
  "query": "Request with binary payload fails due to calling to_native_string\nIntroduced with https://github.com/kennethreitz/requests/issues/2844\n\n```\nimport requests\nrequests.put(\"http://httpbin.org/put\", data=u\"ööö\".encode(\"utf-8\"))\n```\n\nThis works with 2.8.1, but not with 2.9.\n\n",
  "ground_truth": {
    "files": [
      "requests/models.py"
    ],
    "locations": [
      "requests/models.py::RequestEncodingMixin",
      "requests/models.py::RequestEncodingMixin._encode_params",
      "requests/models.py::PreparedRequest",
      "requests/models.py::PreparedRequest.prepare_url"
    ]
  },
  "predictions": [
    "test_requests.py::TestTimeout.test_encoded_methods",
    "requests/models.py::RequestEncodingMixin._encode_params",
    "test_requests.py::UtilsTestCase.test_requote_uri_with_unquoted_percents",
    "test_requests.py::TestContentEncodingDetection.test_xhtml_pragma",
    "requests/models.py::PreparedRequest.prepare_url",
    "test_requests.py::TestRequests.test_links",
    "requests/utils.py::guess_json_utf",
    "test_requests.py::TestRequests.test_unicode_multipart_post",
    "requests/utils.py::get_netrc_auth",
    "test_requests.py::test_urllib3_retries"
  ],
  "metadata": {
    "repo": "psf/requests",
    "commit": "5f7a3a74aab1625c2bb65f643197ee885e3da576",
    "total_functions_indexed": 732,
    "retrieval_time_seconds": 0.03380155563354492
  },
  "raw_output": "[{\"doc_id\": \"test_requests.py::TestTimeout.test_encoded_methods\", \"score\": 33.519279798248924}, {\"doc_id\": \"requests/models.py::RequestEncodingMixin._encode_params\", \"score\": 32.46897161018988}, {\"doc_id\": \"test_requests.py::UtilsTestCase.test_requote_uri_with_unquoted_percents\", \"score\": 31.873822168350646}, {\"doc_id\": \"test_requests.py::TestContentEncodingDetection.test_xhtml_pragma\", \"score\": 31.28417576611472}, {\"doc_id\": \"requests/models.py::PreparedRequest.prepare_url\", \"score\": 30.948732783111993}, {\"doc_id\": \"test_requests.py::TestRequests.test_links\", \"score\": 30.733675262529346}, {\"doc_id\": \"requests/utils.py::guess_json_utf\", \"score\": 29.641024004758105}, {\"doc_id\": \"test_requests.py::TestRequests.test_unicode_multipart_post\", \"score\": 29.07975172391003}, {\"doc_id\": \"requests/utils.py::get_netrc_auth\", \"score\": 28.52278771310663}, {\"doc_id\": \"test_requests.py::test_urllib3_retries\", \"score\": 26.878193294848973}]"
}