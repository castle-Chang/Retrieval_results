{
  "instance_id": "sympy__sympy-12096",
  "query": "evalf does not call _imp_ recursively\nExample from https://stackoverflow.com/questions/41818842/why-cant-i-evaluate-a-composition-of-implemented-functions-in-sympy-at-a-point:\r\n\r\n```\r\n>>> from sympy.utilities.lambdify import implemented_function\r\n>>> f = implemented_function('f', lambda x: x ** 2)\r\n>>> g = implemented_function('g', lambda x: 2 * x)\r\n>>> print(f(  2 ).evalf())\r\n4.00000000000000\r\n>>> print(  g(2) .evalf())\r\n4.00000000000000\r\n>>> print(f(g(2)).evalf())\r\nf(g(2))\r\n```\r\n\r\nThe code for this is in `Function._eval_evalf`. It isn't calling evalf recursively on the return of `_imp_`. \n",
  "ground_truth": {
    "files": [
      "sympy/core/function.py"
    ],
    "locations": [
      "sympy/core/function.py::Function",
      "sympy/core/function.py::Function._eval_evalf"
    ]
  },
  "predictions": [
    "sympy/core/tests/test_evalf.py::test_implemented_function_evalf",
    "sympy/core/function.py::Function._eval_evalf",
    "sympy/core/evalf.py::EvalfMixin._eval_evalf",
    "sympy/concrete/tests/test_sums_products.py::test_evalf_symbolic",
    "sympy/core/operations.py::AssocOp._eval_evalf",
    "sympy/core/tests/test_evalf.py::test_evalf_integer_parts",
    "sympy/core/tests/test_evalf.py::test_issue_4806",
    "sympy/utilities/lambdify.py::implemented_function",
    "sympy/utilities/tests/test_lambdify.py::test_imps",
    "sympy/core/tests/test_evalf.py::test_evalf_sum"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "d7c3045115693e887bcd03599b7ca4650ac5f2cb",
    "total_functions_indexed": 20337,
    "retrieval_time_seconds": 0.004808664321899414
  },
  "raw_output": "[{\"doc_id\": \"sympy/core/tests/test_evalf.py::test_implemented_function_evalf\", \"score\": 0.7057366371154785}, {\"doc_id\": \"sympy/core/function.py::Function._eval_evalf\", \"score\": 0.5441899299621582}, {\"doc_id\": \"sympy/core/evalf.py::EvalfMixin._eval_evalf\", \"score\": 0.5048041343688965}, {\"doc_id\": \"sympy/concrete/tests/test_sums_products.py::test_evalf_symbolic\", \"score\": 0.5024055242538452}, {\"doc_id\": \"sympy/core/operations.py::AssocOp._eval_evalf\", \"score\": 0.5022135972976685}, {\"doc_id\": \"sympy/core/tests/test_evalf.py::test_evalf_integer_parts\", \"score\": 0.494634747505188}, {\"doc_id\": \"sympy/core/tests/test_evalf.py::test_issue_4806\", \"score\": 0.49283844232559204}, {\"doc_id\": \"sympy/utilities/lambdify.py::implemented_function\", \"score\": 0.49172720313072205}, {\"doc_id\": \"sympy/utilities/tests/test_lambdify.py::test_imps\", \"score\": 0.48788315057754517}, {\"doc_id\": \"sympy/core/tests/test_evalf.py::test_evalf_sum\", \"score\": 0.4823682904243469}]"
}