{
  "instance_id": "pytest-dev__pytest-7432",
  "query": "skipping: --runxfail breaks pytest.mark.skip location reporting\npytest versions: 5.4.x, current master\r\n\r\nWhen `@pytest.mark.skip`/`skipif` marks are used to skip a test, for example\r\n\r\n```py\r\nimport pytest\r\n@pytest.mark.skip\r\ndef test_skip_location() -> None:\r\n    assert 0\r\n```\r\n\r\nthe expected skip location reported should point to the item itself, and this is indeed what happens when running with `pytest -rs`:\r\n\r\n```\r\nSKIPPED [1] test_it.py:3: unconditional skip\r\n```\r\n\r\nHowever, adding `pytest -rs --runxfail` breaks this:\r\n\r\n```\r\nSKIPPED [1] src/_pytest/skipping.py:238: unconditional skip\r\n```\r\n\r\nThe `--runxfail` is only about xfail and should not affect this at all.\r\n\r\n---\r\n\r\nHint: the bug is in `src/_pytest/skipping.py`, the `pytest_runtest_makereport` hook.\n",
  "ground_truth": {
    "files": [
      "src/_pytest/skipping.py"
    ],
    "locations": [
      "src/_pytest/skipping.py::pytest_runtest_makereport"
    ]
  },
  "predictions": [
    "testing/test_skipping.py::test_mark_xfail_item",
    "testing/test_skipping.py::test_imperativeskip_on_xfail_test",
    "src/_pytest/skipping.py::pytest_runtest_setup",
    "testing/test_skipping.py::test_xfail_item",
    "testing/test_skipping.py::test_xfail_skipif_with_globals",
    "testing/test_skipping.py::TestXFail.test_xfail_simple",
    "testing/test_skipping.py::TestSkip.test_skip_no_reason",
    "testing/test_skipping.py::TestXFail.test_xfail_xpassed",
    "testing/test_skipping.py::TestXFail.test_xfail_not_run_xfail_reporting",
    "testing/test_skipping.py::TestXFail.test_xfail_using_platform"
  ],
  "metadata": {
    "repo": "pytest-dev/pytest",
    "commit": "e6e300e729dd33956e5448d8be9a0b1540b4e53a",
    "total_functions_indexed": 3926,
    "retrieval_time_seconds": 0.0012023448944091797
  },
  "raw_output": "[{\"doc_id\": \"testing/test_skipping.py::test_mark_xfail_item\", \"score\": 0.6359118223190308}, {\"doc_id\": \"testing/test_skipping.py::test_imperativeskip_on_xfail_test\", \"score\": 0.6079020500183105}, {\"doc_id\": \"src/_pytest/skipping.py::pytest_runtest_setup\", \"score\": 0.5966801643371582}, {\"doc_id\": \"testing/test_skipping.py::test_xfail_item\", \"score\": 0.586951494216919}, {\"doc_id\": \"testing/test_skipping.py::test_xfail_skipif_with_globals\", \"score\": 0.5866974592208862}, {\"doc_id\": \"testing/test_skipping.py::TestXFail.test_xfail_simple\", \"score\": 0.5860673189163208}, {\"doc_id\": \"testing/test_skipping.py::TestSkip.test_skip_no_reason\", \"score\": 0.5855755805969238}, {\"doc_id\": \"testing/test_skipping.py::TestXFail.test_xfail_xpassed\", \"score\": 0.5827694535255432}, {\"doc_id\": \"testing/test_skipping.py::TestXFail.test_xfail_not_run_xfail_reporting\", \"score\": 0.5746780633926392}, {\"doc_id\": \"testing/test_skipping.py::TestXFail.test_xfail_using_platform\", \"score\": 0.5648182034492493}]"
}