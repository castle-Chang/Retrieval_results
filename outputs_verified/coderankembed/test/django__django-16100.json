{
  "instance_id": "django__django-16100",
  "query": "Add transaction handling to Changelist list_editable processing.\nDescription\n\t\nIt seems that changelist_view in Django admin is missing a transaction. Since the view may change data in database, it should be wrapped in a transaction to prevent unexpected states in case of errors.\n",
  "ground_truth": {
    "files": [
      "django/contrib/admin/options.py"
    ],
    "locations": [
      "django/contrib/admin/options.py::ModelAdmin",
      "django/contrib/admin/options.py::ModelAdmin.changelist_view"
    ]
  },
  "predictions": [
    "django/contrib/admin/options.py::ModelAdmin.changelist_view",
    "tests/admin_changelist/tests.py::ChangeListTests.test_changelist_view_list_editable_changed_objects_uses_filter",
    "django/contrib/admin/options.py::ModelAdmin.get_changelist_formset",
    "tests/admin_changelist/tests.py::ChangeListTests.test_get_list_editable_queryset",
    "tests/admin_changelist/tests.py::ChangeListTests.test_multiuser_edit",
    "tests/admin_views/tests.py::AdminViewListEditable.test_list_editable_action_submit",
    "tests/admin_views/tests.py::AdminViewListEditable.test_list_editable_ordering",
    "django/contrib/admin/checks.py::ModelAdminChecks._check_list_editable",
    "tests/admin_changelist/tests.py::ChangeListTests.test_result_list_editable_html",
    "tests/admin_views/tests.py::AdminViewListEditable.test_list_editable_action_choices"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "c6350d594c359151ee17b0c4f354bb44f28ff69e",
    "total_functions_indexed": 26192,
    "retrieval_time_seconds": 0.008758783340454102
  },
  "raw_output": "[{\"doc_id\": \"django/contrib/admin/options.py::ModelAdmin.changelist_view\", \"score\": 0.528481125831604}, {\"doc_id\": \"tests/admin_changelist/tests.py::ChangeListTests.test_changelist_view_list_editable_changed_objects_uses_filter\", \"score\": 0.47270023822784424}, {\"doc_id\": \"django/contrib/admin/options.py::ModelAdmin.get_changelist_formset\", \"score\": 0.45375749468803406}, {\"doc_id\": \"tests/admin_changelist/tests.py::ChangeListTests.test_get_list_editable_queryset\", \"score\": 0.4471657872200012}, {\"doc_id\": \"tests/admin_changelist/tests.py::ChangeListTests.test_multiuser_edit\", \"score\": 0.44343680143356323}, {\"doc_id\": \"tests/admin_views/tests.py::AdminViewListEditable.test_list_editable_action_submit\", \"score\": 0.43719547986984253}, {\"doc_id\": \"tests/admin_views/tests.py::AdminViewListEditable.test_list_editable_ordering\", \"score\": 0.433550089597702}, {\"doc_id\": \"django/contrib/admin/checks.py::ModelAdminChecks._check_list_editable\", \"score\": 0.43288883566856384}, {\"doc_id\": \"tests/admin_changelist/tests.py::ChangeListTests.test_result_list_editable_html\", \"score\": 0.4255731701850891}, {\"doc_id\": \"tests/admin_views/tests.py::AdminViewListEditable.test_list_editable_action_choices\", \"score\": 0.42491698265075684}]"
}