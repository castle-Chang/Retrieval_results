{
  "instance_id": "sympy__sympy-23413",
  "query": "bug with HNF removing rows\nI expect\r\n`np.flip (hermite_normal_form (Matrix (np.flip (np.array ([[5, 8, 12], [0, 0, 1]]))).T).T))`\r\nto give\r\n`[[5,  8, 0], [0,  0, 1]]`\r\nbut instead I get\r\n`[[5,  8, 0]]`\r\nIt seems to be falsely identifying my matrix as rank-deficient and removing the row when I try to achieve a row-style HNF using flips and transposes.\n",
  "ground_truth": {
    "files": [
      "sympy/polys/matrices/normalforms.py"
    ],
    "locations": [
      "sympy/polys/matrices/normalforms.py::_hermite_normal_form"
    ]
  },
  "predictions": [
    "sympy/matrices/tests/test_normalforms.py::test_hermite_normal",
    "sympy/polys/matrices/tests/test_normalforms.py::test_hermite_normal",
    "sympy/polys/numberfields/tests/test_modules.py::test_is_HNF",
    "sympy/polys/matrices/normalforms.py::_hermite_normal_form",
    "sympy/matrices/tests/test_reductions.py::test_issue_15872",
    "sympy/matrices/normalforms.py::hermite_normal_form",
    "sympy/matrices/tests/test_reductions.py::test_echelon_form",
    "sympy/printing/tests/test_octave.py::test_Matrices_entries_not_hadamard",
    "sympy/polys/matrices/normalforms.py::hermite_normal_form",
    "sympy/matrices/tests/test_matrices.py::test_pinv_rank_deficient_when_diagonalization_fails"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "10de1a18a0efac0b19b611e40c928250dda688bf",
    "total_functions_indexed": 37775,
    "retrieval_time_seconds": 0.010728597640991211
  },
  "raw_output": "[{\"doc_id\": \"sympy/matrices/tests/test_normalforms.py::test_hermite_normal\", \"score\": 0.4942207336425781}, {\"doc_id\": \"sympy/polys/matrices/tests/test_normalforms.py::test_hermite_normal\", \"score\": 0.4673365354537964}, {\"doc_id\": \"sympy/polys/numberfields/tests/test_modules.py::test_is_HNF\", \"score\": 0.45471078157424927}, {\"doc_id\": \"sympy/polys/matrices/normalforms.py::_hermite_normal_form\", \"score\": 0.40612632036209106}, {\"doc_id\": \"sympy/matrices/tests/test_reductions.py::test_issue_15872\", \"score\": 0.4006234407424927}, {\"doc_id\": \"sympy/matrices/normalforms.py::hermite_normal_form\", \"score\": 0.39036065340042114}, {\"doc_id\": \"sympy/matrices/tests/test_reductions.py::test_echelon_form\", \"score\": 0.38547131419181824}, {\"doc_id\": \"sympy/printing/tests/test_octave.py::test_Matrices_entries_not_hadamard\", \"score\": 0.37278318405151367}, {\"doc_id\": \"sympy/polys/matrices/normalforms.py::hermite_normal_form\", \"score\": 0.372059166431427}, {\"doc_id\": \"sympy/matrices/tests/test_matrices.py::test_pinv_rank_deficient_when_diagonalization_fails\", \"score\": 0.36481913924217224}]"
}