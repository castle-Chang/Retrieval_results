{
  "instance_id": "django__django-15037",
  "query": "Foreign key to a specific field is not handled in inspectdb\nDescription\n\t \n\t\t(last modified by Tim Graham)\n\t \nif you have a DB like that\nCREATE TABLE foo ( id serial primary key, other_id int UNIQUE);\nCREATE TABLE bar (\n\tid serial primary key, other_id int,\n\tconstraint myconst \n\tFOREIGN KEY(other_id) references foo(other_id)\n);\nthe generated model for the bar table will have the other_id be a FK to foo and not foo(other_id).\nI'm attaching a potential fix for this. Sorry I had no time for the UTs.\n",
  "ground_truth": {
    "files": [
      "django/core/management/commands/inspectdb.py"
    ],
    "locations": [
      "django/core/management/commands/inspectdb.py::Command",
      "django/core/management/commands/inspectdb.py::Command.handle_inspection"
    ]
  },
  "predictions": [
    "tests/schema/tests.py::SchemaTests.test_no_db_constraint_added_during_primary_key_change",
    "tests/schema/tests.py::SchemaTests.test_alter_pk_with_self_referential_field",
    "tests/schema/tests.py::SchemaTests.test_alter_to_fk",
    "tests/schema/tests.py::SchemaTests.test_alter_field_o2o_to_fk",
    "tests/invalid_models_tests/test_relative_fields.py::RelativeFieldTests.test_foreign_key_to_non_unique_field_under_explicit_model",
    "django/db/models/fields/related.py::ForeignKey.__init__",
    "tests/schema/tests.py::SchemaTests.assertForeignKeyExists",
    "tests/schema/tests.py::SchemaTests.test_alter_fk_to_o2o",
    "tests/schema/tests.py::SchemaTests.test_alter_o2o_to_fk",
    "tests/schema/tests.py::SchemaTests.test_alter_field_fk_to_o2o"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "dab48b7482295956973879d15bfd4d3bb0718772",
    "total_functions_indexed": 25232,
    "retrieval_time_seconds": 0.09878039360046387
  },
  "raw_output": "[{\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_no_db_constraint_added_during_primary_key_change\", \"score\": 0.3991883397102356}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_alter_pk_with_self_referential_field\", \"score\": 0.3971770405769348}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_alter_to_fk\", \"score\": 0.39200061559677124}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_alter_field_o2o_to_fk\", \"score\": 0.3919358253479004}, {\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::RelativeFieldTests.test_foreign_key_to_non_unique_field_under_explicit_model\", \"score\": 0.3889680802822113}, {\"doc_id\": \"django/db/models/fields/related.py::ForeignKey.__init__\", \"score\": 0.3848276138305664}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.assertForeignKeyExists\", \"score\": 0.3845827579498291}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_alter_fk_to_o2o\", \"score\": 0.38384997844696045}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_alter_o2o_to_fk\", \"score\": 0.37906014919281006}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_alter_field_fk_to_o2o\", \"score\": 0.37870627641677856}]"
}