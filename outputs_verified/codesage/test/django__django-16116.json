{
  "instance_id": "django__django-16116",
  "query": "makemigrations --check generating migrations is inconsistent with other uses of --check\nDescription\n\t\nTo script a check for missing migrations but without actually intending to create the migrations, it is necessary to use both --check and --dry-run, which is inconsistent with migrate --check and optimizemigration --check, which just exit (after possibly logging a bit).\nI'm suggesting that makemigrations --check should just exit without making migrations.\nThe choice to write the migrations anyway was not discussed AFAICT on ticket:25604 or ​https://groups.google.com/g/django-developers/c/zczdY6c9KSg/m/ZXCXQsGDDAAJ.\nNoticed when reading ​PR to adjust the documentation of migrate --check. I think the current documentation is silent on this question.\n",
  "ground_truth": {
    "files": [
      "django/core/management/commands/makemigrations.py"
    ],
    "locations": [
      "django/core/management/commands/makemigrations.py::Command",
      "django/core/management/commands/makemigrations.py::Command.add_arguments",
      "django/core/management/commands/makemigrations.py::Command.handle",
      "django/core/management/commands/makemigrations.py::Command.write_to_last_migration_files"
    ]
  },
  "predictions": [
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_check",
    "tests/migrations/test_commands.py::OptimizeMigrationTests.test_optimizemigration_check",
    "tests/admin_scripts/tests.py::ManageRunserver.test_no_database",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_changes",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_changes_no_apps",
    "tests/admin_scripts/tests.py::ManageRunserverMigrationWarning.test_migration_warning_one_app",
    "tests/admin_scripts/tests.py::ManageRunserver.test_readonly_database",
    "tests/admin_scripts/tests.py::ManageRunserverMigrationWarning.test_migration_warning_multiple_apps",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_dry_run_verbosity_3",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigration_merge_dry_run"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "5d36a8266c7d5d1994d7a7eeb4016f80d9cb0401",
    "total_functions_indexed": 26194,
    "retrieval_time_seconds": 0.15848255157470703
  },
  "raw_output": "[{\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_check\", \"score\": 0.605013370513916}, {\"doc_id\": \"tests/migrations/test_commands.py::OptimizeMigrationTests.test_optimizemigration_check\", \"score\": 0.5002207159996033}, {\"doc_id\": \"tests/admin_scripts/tests.py::ManageRunserver.test_no_database\", \"score\": 0.4884272813796997}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_changes\", \"score\": 0.4506884217262268}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_changes_no_apps\", \"score\": 0.4505254626274109}, {\"doc_id\": \"tests/admin_scripts/tests.py::ManageRunserverMigrationWarning.test_migration_warning_one_app\", \"score\": 0.4468199908733368}, {\"doc_id\": \"tests/admin_scripts/tests.py::ManageRunserver.test_readonly_database\", \"score\": 0.4466720223426819}, {\"doc_id\": \"tests/admin_scripts/tests.py::ManageRunserverMigrationWarning.test_migration_warning_multiple_apps\", \"score\": 0.44171470403671265}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_dry_run_verbosity_3\", \"score\": 0.43418943881988525}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigration_merge_dry_run\", \"score\": 0.43094685673713684}]"
}