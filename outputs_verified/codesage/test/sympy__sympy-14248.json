{
  "instance_id": "sympy__sympy-14248",
  "query": "The difference of MatrixSymbols prints as a sum with (-1) coefficient\nInternally, differences like a-b are represented as the sum of a with `(-1)*b`, but they are supposed to print like a-b. This does not happen with MatrixSymbols. I tried three printers: str, pretty, and latex: \r\n```\r\nfrom sympy import *\r\nA = MatrixSymbol('A', 2, 2)\r\nB = MatrixSymbol('B', 2, 2)\r\nprint(A - A*B - B)\r\npprint(A - A*B - B)\r\nlatex(A - A*B - B)\r\n```\r\nOutput:\r\n```\r\n(-1)*B + (-1)*A*B + A\r\n-B + -Aâ‹…B + A\r\n'-1 B + -1 A B + A'\r\n```\r\n\r\nBased on a [Stack Overflow post](https://stackoverflow.com/q/48826611)\n",
  "ground_truth": {
    "files": [
      "sympy/printing/pretty/pretty.py",
      "sympy/printing/str.py",
      "sympy/printing/latex.py"
    ],
    "locations": [
      "sympy/printing/latex.py::LatexPrinter",
      "sympy/printing/latex.py::LatexPrinter._print_Adjoint",
      "sympy/printing/latex.py::LatexPrinter._print_MatAdd",
      "sympy/printing/latex.py::LatexPrinter._print_MatMul",
      "sympy/printing/latex.py::LatexPrinter._print_Mod",
      "sympy/printing/pretty/pretty.py::PrettyPrinter",
      "sympy/printing/pretty/pretty.py::PrettyPrinter._print_BlockMatrix",
      "sympy/printing/pretty/pretty.py::PrettyPrinter._print_MatAdd",
      "sympy/printing/pretty/pretty.py::PrettyPrinter._print_MatMul",
      "sympy/printing/str.py::StrPrinter",
      "sympy/printing/str.py::StrPrinter._print_Mul",
      "sympy/printing/str.py::StrPrinter._print_MatMul",
      "sympy/printing/str.py::StrPrinter._print_HadamardProduct",
      "sympy/printing/str.py::StrPrinter._print_MatAdd",
      "sympy/printing/str.py::StrPrinter._print_NaN"
    ]
  },
  "predictions": [
    "sympy/printing/tests/test_latex.py::test_matAdd",
    "sympy/matrices/common.py::MatrixArithmetic.__sub__",
    "sympy/matrices/expressions/matexpr.py::MatrixSymbol._eval_simplify",
    "sympy/printing/tests/test_str.py::test_MatMul_MatAdd",
    "sympy/matrices/expressions/matexpr.py::MatrixSymbol._hashable_content",
    "sympy/matrices/expressions/matexpr.py::MatrixSymbol._eval_subs",
    "sympy/matrices/expressions/matexpr.py::MatrixSymbol.doit",
    "sympy/matrices/expressions/trace.py::trace",
    "sympy/matrices/expressions/matexpr.py::MatrixExpr.__sub__",
    "sympy/matrices/expressions/matexpr.py::MatrixSymbol.free_symbols"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "9986b38181cdd556a3f3411e553864f11912244e",
    "total_functions_indexed": 22890,
    "retrieval_time_seconds": 0.0939176082611084
  },
  "raw_output": "[{\"doc_id\": \"sympy/printing/tests/test_latex.py::test_matAdd\", \"score\": 0.4215767979621887}, {\"doc_id\": \"sympy/matrices/common.py::MatrixArithmetic.__sub__\", \"score\": 0.4114128053188324}, {\"doc_id\": \"sympy/matrices/expressions/matexpr.py::MatrixSymbol._eval_simplify\", \"score\": 0.408502995967865}, {\"doc_id\": \"sympy/printing/tests/test_str.py::test_MatMul_MatAdd\", \"score\": 0.40403327345848083}, {\"doc_id\": \"sympy/matrices/expressions/matexpr.py::MatrixSymbol._hashable_content\", \"score\": 0.4014919102191925}, {\"doc_id\": \"sympy/matrices/expressions/matexpr.py::MatrixSymbol._eval_subs\", \"score\": 0.3994399309158325}, {\"doc_id\": \"sympy/matrices/expressions/matexpr.py::MatrixSymbol.doit\", \"score\": 0.3982028365135193}, {\"doc_id\": \"sympy/matrices/expressions/trace.py::trace\", \"score\": 0.3947652578353882}, {\"doc_id\": \"sympy/matrices/expressions/matexpr.py::MatrixExpr.__sub__\", \"score\": 0.39276593923568726}, {\"doc_id\": \"sympy/matrices/expressions/matexpr.py::MatrixSymbol.free_symbols\", \"score\": 0.3921123147010803}]"
}