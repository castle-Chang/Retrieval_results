{
  "instance_id": "django__django-14500",
  "query": "Squashed migration is not marked as unapplied\nDescription\n\t \n\t\t(last modified by Markus Holtermann)\n\t \nWhen unapplying a squashed migration and the replaced migration files are still around, the MigrationExecutor mark the squash migration as unapplied, too, not only the replaced migrations.\n",
  "ground_truth": {
    "files": [
      "django/db/migrations/executor.py"
    ],
    "locations": [
      "django/db/migrations/executor.py::MigrationExecutor",
      "django/db/migrations/executor.py::MigrationExecutor.unapply_migration"
    ]
  },
  "predictions": [
    "tests/migrations/test_executor.py::ExecutorTests.test_migrate_marks_replacement_applied_even_if_it_did_nothing",
    "tests/migrations/test_commands.py::SquashMigrationsTests.test_squashmigrations_squashes",
    "tests/migrations/test_commands.py::MigrateTests.test_migrate_record_squashed",
    "tests/migrations/test_commands.py::SquashMigrationsTests.test_squashed_name_with_start_migration_name",
    "tests/migrations/test_commands.py::SquashMigrationsTests.test_squashed_name_without_start_migration_name",
    "tests/migrations/test_executor.py::ExecutorTests.test_apply_all_replaced_marks_replacement_as_applied",
    "tests/migrations/test_commands.py::SquashMigrationsTests.test_squashmigrations_valid_start",
    "tests/migrations/test_executor.py::ExecutorTests.test_run_with_squashed",
    "tests/migrations/test_commands.py::MigrateTests.test_migrate_record_replaced",
    "tests/migrations/test_loader.py::LoaderTests.test_loading_squashed_ref_squashed"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "8c3bd0b708b488a1f6e8bd8cc6b96569904605be",
    "total_functions_indexed": 24668,
    "retrieval_time_seconds": 0.010335445404052734
  },
  "raw_output": "[{\"doc_id\": \"tests/migrations/test_executor.py::ExecutorTests.test_migrate_marks_replacement_applied_even_if_it_did_nothing\", \"score\": 0.5692569017410278}, {\"doc_id\": \"tests/migrations/test_commands.py::SquashMigrationsTests.test_squashmigrations_squashes\", \"score\": 0.517855703830719}, {\"doc_id\": \"tests/migrations/test_commands.py::MigrateTests.test_migrate_record_squashed\", \"score\": 0.5079728364944458}, {\"doc_id\": \"tests/migrations/test_commands.py::SquashMigrationsTests.test_squashed_name_with_start_migration_name\", \"score\": 0.49410998821258545}, {\"doc_id\": \"tests/migrations/test_commands.py::SquashMigrationsTests.test_squashed_name_without_start_migration_name\", \"score\": 0.491113543510437}, {\"doc_id\": \"tests/migrations/test_executor.py::ExecutorTests.test_apply_all_replaced_marks_replacement_as_applied\", \"score\": 0.48695701360702515}, {\"doc_id\": \"tests/migrations/test_commands.py::SquashMigrationsTests.test_squashmigrations_valid_start\", \"score\": 0.4830164909362793}, {\"doc_id\": \"tests/migrations/test_executor.py::ExecutorTests.test_run_with_squashed\", \"score\": 0.4813385307788849}, {\"doc_id\": \"tests/migrations/test_commands.py::MigrateTests.test_migrate_record_replaced\", \"score\": 0.4807758331298828}, {\"doc_id\": \"tests/migrations/test_loader.py::LoaderTests.test_loading_squashed_ref_squashed\", \"score\": 0.4694198966026306}]"
}