{
  "instance_id": "sympy__sympy-18763",
  "query": "Incorrect parenthesizing of Subs\nHere is an example.\r\n```python\r\n>>> from sympy import Subs\r\n>>> from sympy.abc import x,y\r\n>>> 3*Subs(-x+y, (x,),(1,))\r\n```\r\nLaTeX printing of this gives:  \r\n```python\r\n'3 \\\\left. - x + y \\\\right|_{\\\\substack{ x=1 }}'\r\n```\r\n\r\n![image](https://quicklatex.com/cache3/76/ql_9672fd7e62c909ff3d9ac8543c2e2576_l3.png)\r\n\r\n\r\nIt would be better to be parenthesized to:  \r\n```python\r\n'3 \\\\left. \\\\left(- x + y\\\\right) \\\\right|_{\\\\substack{ x=1 }}'\r\n```\r\n\r\n![image](https://quicklatex.com/cache3/bf/ql_936ffdb876e784206d4c54bb93d28dbf_l3.png)\r\n\n",
  "ground_truth": {
    "files": [
      "sympy/printing/latex.py"
    ],
    "locations": [
      "sympy/printing/latex.py::LatexPrinter",
      "sympy/printing/latex.py::LatexPrinter._print_Subs",
      "sympy/printing/latex.py::LatexPrinter._print_Integral"
    ]
  },
  "predictions": [
    "sympy/printing/tests/test_latex.py::test_latex_subs",
    "sympy/printing/tests/test_str.py::test_Subs_printing",
    "sympy/printing/pretty/tests/test_pretty.py::test_pretty_Subs",
    "sympy/core/tests/test_subs.py::test_subs_issue_4009",
    "sympy/core/function.py::Subs.__new__",
    "sympy/printing/str.py::StrPrinter._print_Subs",
    "sympy/printing/tests/test_latex.py::test_issue_15439",
    "sympy/core/tests/test_function.py::test_Subs",
    "sympy/core/tests/test_subs.py::test_subs_wild",
    "sympy/core/function.py::Subs.expr"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "70381f282f2d9d039da860e391fe51649df2779d",
    "total_functions_indexed": 33572,
    "retrieval_time_seconds": 0.01687479019165039
  },
  "raw_output": "[{\"doc_id\": \"sympy/printing/tests/test_latex.py::test_latex_subs\", \"score\": 0.5387561321258545}, {\"doc_id\": \"sympy/printing/tests/test_str.py::test_Subs_printing\", \"score\": 0.49227601289749146}, {\"doc_id\": \"sympy/printing/pretty/tests/test_pretty.py::test_pretty_Subs\", \"score\": 0.48732253909111023}, {\"doc_id\": \"sympy/core/tests/test_subs.py::test_subs_issue_4009\", \"score\": 0.42878371477127075}, {\"doc_id\": \"sympy/core/function.py::Subs.__new__\", \"score\": 0.4265836775302887}, {\"doc_id\": \"sympy/printing/str.py::StrPrinter._print_Subs\", \"score\": 0.41486620903015137}, {\"doc_id\": \"sympy/printing/tests/test_latex.py::test_issue_15439\", \"score\": 0.4133991301059723}, {\"doc_id\": \"sympy/core/tests/test_function.py::test_Subs\", \"score\": 0.40047407150268555}, {\"doc_id\": \"sympy/core/tests/test_subs.py::test_subs_wild\", \"score\": 0.3982885777950287}, {\"doc_id\": \"sympy/core/function.py::Subs.expr\", \"score\": 0.3967968821525574}]"
}