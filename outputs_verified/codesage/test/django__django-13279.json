{
  "instance_id": "django__django-13279",
  "query": "Session data cannot be decoded during the transition to Django 3.1.\nDescription\n\t\nIn d4fff711d4c97356bd6ba1273d2a5e349326eb5f (#31274) we've changed format for session data, that's why setting DEFAULT_HASHING_ALGORITHM to 'sha1' is not enough to support running multiple instances of the same project during the transition to Django 3.1.\nWe could use the legacy encode() when DEFAULT_HASHING_ALGORITHM == 'sha1' (it's a bit hacky).\n",
  "ground_truth": {
    "files": [
      "django/contrib/sessions/backends/base.py"
    ],
    "locations": [
      "django/contrib/sessions/backends/base.py::SessionBase",
      "django/contrib/sessions/backends/base.py::SessionBase.encode",
      "django/contrib/sessions/backends/base.py::SessionBase.decode",
      "django/contrib/sessions/backends/base.py::SessionBase._legacy_decode"
    ]
  },
  "predictions": [
    "tests/auth_tests/test_middleware.py::TestAuthenticationMiddleware.test_session_default_hashing_algorithm",
    "django/contrib/sessions/backends/base.py::SessionBase._legacy_decode",
    "tests/sessions_tests/tests.py::SessionTestsMixin.test_decode_legacy",
    "django/contrib/sessions/backends/base.py::SessionBase.decode",
    "tests/deprecation/test_default_hashing_algorithm.py::DefaultHashingAlgorithmDeprecationTests.test_override_settings_warning",
    "tests/messages_tests/test_cookie.py::CookieTests.test_default_hashing_algorithm",
    "tests/messages_tests/test_cookie.py::CookieTests.test_legacy_hash_decode",
    "tests/auth_tests/test_middleware.py::TestAuthenticationMiddleware.test_no_password_change_does_not_invalidate_legacy_session",
    "tests/sessions_tests/tests.py::SessionTestsMixin.test_decode_failure_logged_to_security",
    "django/contrib/auth/hashers.py::UnsaltedSHA1PasswordHasher.safe_summary"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "6e9c5ee88fc948e05b4a7d9f82a8861ed2b0343d",
    "total_functions_indexed": 23788,
    "retrieval_time_seconds": 0.02198028564453125
  },
  "raw_output": "[{\"doc_id\": \"tests/auth_tests/test_middleware.py::TestAuthenticationMiddleware.test_session_default_hashing_algorithm\", \"score\": 0.4354669749736786}, {\"doc_id\": \"django/contrib/sessions/backends/base.py::SessionBase._legacy_decode\", \"score\": 0.39374101161956787}, {\"doc_id\": \"tests/sessions_tests/tests.py::SessionTestsMixin.test_decode_legacy\", \"score\": 0.3932991623878479}, {\"doc_id\": \"django/contrib/sessions/backends/base.py::SessionBase.decode\", \"score\": 0.36079370975494385}, {\"doc_id\": \"tests/deprecation/test_default_hashing_algorithm.py::DefaultHashingAlgorithmDeprecationTests.test_override_settings_warning\", \"score\": 0.3588114082813263}, {\"doc_id\": \"tests/messages_tests/test_cookie.py::CookieTests.test_default_hashing_algorithm\", \"score\": 0.356580525636673}, {\"doc_id\": \"tests/messages_tests/test_cookie.py::CookieTests.test_legacy_hash_decode\", \"score\": 0.34214407205581665}, {\"doc_id\": \"tests/auth_tests/test_middleware.py::TestAuthenticationMiddleware.test_no_password_change_does_not_invalidate_legacy_session\", \"score\": 0.3358267545700073}, {\"doc_id\": \"tests/sessions_tests/tests.py::SessionTestsMixin.test_decode_failure_logged_to_security\", \"score\": 0.3263891637325287}, {\"doc_id\": \"django/contrib/auth/hashers.py::UnsaltedSHA1PasswordHasher.safe_summary\", \"score\": 0.3072633147239685}]"
}