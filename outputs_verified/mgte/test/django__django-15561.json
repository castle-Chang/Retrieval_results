{
  "instance_id": "django__django-15561",
  "query": "AlterField operation should be noop when adding/changing choices on SQLite.\nDescription\n\t\nwhile writing a test case for #33470 i found that for sqlite, even a seemingly db-transparent change like adding choices still generates sql (new table + insert + drop + rename) even though this shouldn't be needed. on e.g. postgres the same migration generates no sql\n",
  "ground_truth": {
    "files": [
      "django/db/models/fields/__init__.py",
      "django/db/backends/base/schema.py"
    ],
    "locations": [
      "django/db/backends/base/schema.py::BaseDatabaseSchemaEditor",
      "django/db/backends/base/schema.py::BaseDatabaseSchemaEditor._field_should_be_altered",
      "django/db/models/fields/__init__.py::Field"
    ]
  },
  "predictions": [
    "django/db/backends/base/schema.py::BaseDatabaseSchemaEditor._field_should_be_altered",
    "tests/migrations/test_operations.py::OperationTests.test_alter_field_add_db_column_noop",
    "tests/migrations/test_operations.py::OperationTests.test_alter_field_pk",
    "django/db/migrations/questioner.py::InteractiveMigrationQuestioner.ask_not_null_alteration",
    "django/db/backends/sqlite3/schema.py::DatabaseSchemaEditor.alter_field",
    "django/db/backends/oracle/schema.py::DatabaseSchemaEditor.alter_field",
    "tests/migrations/test_operations.py::OperationTests.test_alter_field_with_index",
    "django/db/backends/postgresql/schema.py::DatabaseSchemaEditor._alter_field",
    "tests/migrations/test_operations.py::OperationTests.test_alter_field",
    "django/db/migrations/autodetector.py::MigrationAutodetector.generate_altered_fields"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "6991880109e35c879b71b7d9d9c154baeec12b89",
    "total_functions_indexed": 25775,
    "retrieval_time_seconds": 0.0064356327056884766
  },
  "raw_output": "[{\"doc_id\": \"django/db/backends/base/schema.py::BaseDatabaseSchemaEditor._field_should_be_altered\", \"score\": 0.7589904069900513}, {\"doc_id\": \"tests/migrations/test_operations.py::OperationTests.test_alter_field_add_db_column_noop\", \"score\": 0.7589767575263977}, {\"doc_id\": \"tests/migrations/test_operations.py::OperationTests.test_alter_field_pk\", \"score\": 0.755737841129303}, {\"doc_id\": \"django/db/migrations/questioner.py::InteractiveMigrationQuestioner.ask_not_null_alteration\", \"score\": 0.752951979637146}, {\"doc_id\": \"django/db/backends/sqlite3/schema.py::DatabaseSchemaEditor.alter_field\", \"score\": 0.7495124340057373}, {\"doc_id\": \"django/db/backends/oracle/schema.py::DatabaseSchemaEditor.alter_field\", \"score\": 0.7492524981498718}, {\"doc_id\": \"tests/migrations/test_operations.py::OperationTests.test_alter_field_with_index\", \"score\": 0.7462134957313538}, {\"doc_id\": \"django/db/backends/postgresql/schema.py::DatabaseSchemaEditor._alter_field\", \"score\": 0.7368518114089966}, {\"doc_id\": \"tests/migrations/test_operations.py::OperationTests.test_alter_field\", \"score\": 0.7364774942398071}, {\"doc_id\": \"django/db/migrations/autodetector.py::MigrationAutodetector.generate_altered_fields\", \"score\": 0.733411967754364}]"
}