{
  "instance_id": "pytest-dev__pytest-7432",
  "query": "skipping: --runxfail breaks pytest.mark.skip location reporting\npytest versions: 5.4.x, current master\r\n\r\nWhen `@pytest.mark.skip`/`skipif` marks are used to skip a test, for example\r\n\r\n```py\r\nimport pytest\r\n@pytest.mark.skip\r\ndef test_skip_location() -> None:\r\n    assert 0\r\n```\r\n\r\nthe expected skip location reported should point to the item itself, and this is indeed what happens when running with `pytest -rs`:\r\n\r\n```\r\nSKIPPED [1] test_it.py:3: unconditional skip\r\n```\r\n\r\nHowever, adding `pytest -rs --runxfail` breaks this:\r\n\r\n```\r\nSKIPPED [1] src/_pytest/skipping.py:238: unconditional skip\r\n```\r\n\r\nThe `--runxfail` is only about xfail and should not affect this at all.\r\n\r\n---\r\n\r\nHint: the bug is in `src/_pytest/skipping.py`, the `pytest_runtest_makereport` hook.\n",
  "ground_truth": {
    "files": [
      "src/_pytest/skipping.py"
    ],
    "locations": [
      "src/_pytest/skipping.py::pytest_runtest_makereport"
    ]
  },
  "predictions": [
    "testing/test_skipping.py::TestSkipif.test_skipif_reporting",
    "testing/test_skipping.py::TestSkip.test_skip_no_reason",
    "testing/test_skipping.py::TestBooleanCondition.test_skipif_noreason",
    "testing/test_skipping.py::test_imperativeskip_on_xfail_test",
    "testing/test_skipping.py::TestEvaluation.test_marked_skipif_no_args",
    "testing/test_junitxml.py::TestPython.test_mark_skipif_contains_name_reason",
    "testing/test_skipping.py::TestSkipif.test_skipif_conditional",
    "testing/test_skipping.py::TestXFail.test_xfail_simple",
    "testing/test_junitxml.py::test_escaped_skipreason_issue3533",
    "src/_pytest/skipping.py::pytest_runtest_makereport"
  ],
  "metadata": {
    "repo": "pytest-dev/pytest",
    "commit": "e6e300e729dd33956e5448d8be9a0b1540b4e53a",
    "total_functions_indexed": 3926,
    "retrieval_time_seconds": 0.0017085075378417969
  },
  "raw_output": "[{\"doc_id\": \"testing/test_skipping.py::TestSkipif.test_skipif_reporting\", \"score\": 0.8377609252929688}, {\"doc_id\": \"testing/test_skipping.py::TestSkip.test_skip_no_reason\", \"score\": 0.8241420388221741}, {\"doc_id\": \"testing/test_skipping.py::TestBooleanCondition.test_skipif_noreason\", \"score\": 0.8205882906913757}, {\"doc_id\": \"testing/test_skipping.py::test_imperativeskip_on_xfail_test\", \"score\": 0.8205318450927734}, {\"doc_id\": \"testing/test_skipping.py::TestEvaluation.test_marked_skipif_no_args\", \"score\": 0.8164917826652527}, {\"doc_id\": \"testing/test_junitxml.py::TestPython.test_mark_skipif_contains_name_reason\", \"score\": 0.8157230019569397}, {\"doc_id\": \"testing/test_skipping.py::TestSkipif.test_skipif_conditional\", \"score\": 0.8143786787986755}, {\"doc_id\": \"testing/test_skipping.py::TestXFail.test_xfail_simple\", \"score\": 0.8116085529327393}, {\"doc_id\": \"testing/test_junitxml.py::test_escaped_skipreason_issue3533\", \"score\": 0.8110244870185852}, {\"doc_id\": \"src/_pytest/skipping.py::pytest_runtest_makereport\", \"score\": 0.8100701570510864}]"
}