{
  "instance_id": "django__django-13512",
  "query": "Admin doesn't display properly unicode chars in JSONFields.\nDescription\n\t \n\t\t(last modified by ZhaoQi99)\n\t \n>>> import json\n>>> print json.dumps('中国')\n\"\\u4e2d\\u56fd\"\njson.dumps use ASCII encoding by default when serializing Chinese.\nSo when we edit a JsonField which contains Chinese character in Django admin,it will appear in ASCII characters.\nI have try to fix this this problem in ​https://github.com/adamchainz/django-mysql/pull/714.And it works prefectly.\n",
  "ground_truth": {
    "files": [
      "django/forms/fields.py",
      "django/contrib/admin/utils.py"
    ],
    "locations": [
      "django/contrib/admin/utils.py::display_for_field",
      "django/forms/fields.py::JSONField",
      "django/forms/fields.py::JSONField.prepare_value",
      "django/forms/fields.py::JSONField.has_changed"
    ]
  },
  "predictions": [
    "tests/admin_views/tests.py::AdminViewUnicodeTest.test_unicode_edit",
    "tests/admin_views/tests.py::AdminViewUnicodeTest.test_unicode_delete",
    "django/contrib/admin/utils.py::display_for_value",
    "tests/admin_widgets/tests.py::AdminFormfieldForDBFieldTests.test_CharField",
    "tests/admin_utils/tests.py::UtilsTests.test_json_display_for_field",
    "django/contrib/admin/helpers.py::AdminReadonlyField.contents",
    "tests/forms_tests/field_tests/test_jsonfield.py::JSONFieldTest.test_redisplay_wrong_input",
    "tests/logging_tests/tests.py::AdminEmailHandlerTest.test_emit_non_ascii",
    "django/utils/xmlutils.py::SimplerXMLGenerator.characters",
    "django/utils/html.py::json_script"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "b79088306513d5ed76d31ac40ab3c15f858946ea",
    "total_functions_indexed": 23962,
    "retrieval_time_seconds": 0.012857913970947266
  },
  "raw_output": "[{\"doc_id\": \"tests/admin_views/tests.py::AdminViewUnicodeTest.test_unicode_edit\", \"score\": 0.697378396987915}, {\"doc_id\": \"tests/admin_views/tests.py::AdminViewUnicodeTest.test_unicode_delete\", \"score\": 0.6949739456176758}, {\"doc_id\": \"django/contrib/admin/utils.py::display_for_value\", \"score\": 0.6936080455780029}, {\"doc_id\": \"tests/admin_widgets/tests.py::AdminFormfieldForDBFieldTests.test_CharField\", \"score\": 0.690808117389679}, {\"doc_id\": \"tests/admin_utils/tests.py::UtilsTests.test_json_display_for_field\", \"score\": 0.6901261210441589}, {\"doc_id\": \"django/contrib/admin/helpers.py::AdminReadonlyField.contents\", \"score\": 0.688985288143158}, {\"doc_id\": \"tests/forms_tests/field_tests/test_jsonfield.py::JSONFieldTest.test_redisplay_wrong_input\", \"score\": 0.688753604888916}, {\"doc_id\": \"tests/logging_tests/tests.py::AdminEmailHandlerTest.test_emit_non_ascii\", \"score\": 0.6878628730773926}, {\"doc_id\": \"django/utils/xmlutils.py::SimplerXMLGenerator.characters\", \"score\": 0.6864572763442993}, {\"doc_id\": \"django/utils/html.py::json_script\", \"score\": 0.6825728416442871}]"
}