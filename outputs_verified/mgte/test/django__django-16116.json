{
  "instance_id": "django__django-16116",
  "query": "makemigrations --check generating migrations is inconsistent with other uses of --check\nDescription\n\t\nTo script a check for missing migrations but without actually intending to create the migrations, it is necessary to use both --check and --dry-run, which is inconsistent with migrate --check and optimizemigration --check, which just exit (after possibly logging a bit).\nI'm suggesting that makemigrations --check should just exit without making migrations.\nThe choice to write the migrations anyway was not discussed AFAICT on ticket:25604 or ​https://groups.google.com/g/django-developers/c/zczdY6c9KSg/m/ZXCXQsGDDAAJ.\nNoticed when reading ​PR to adjust the documentation of migrate --check. I think the current documentation is silent on this question.\n",
  "ground_truth": {
    "files": [
      "django/core/management/commands/makemigrations.py"
    ],
    "locations": [
      "django/core/management/commands/makemigrations.py::Command",
      "django/core/management/commands/makemigrations.py::Command.add_arguments",
      "django/core/management/commands/makemigrations.py::Command.handle",
      "django/core/management/commands/makemigrations.py::Command.write_to_last_migration_files"
    ]
  },
  "predictions": [
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_check",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_consistency_checks_respect_routers",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_inconsistent_history_db_failure",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_merge_dont_output_dependency_operations",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigration_merge_dry_run",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_dry_run_verbosity_3",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_changes_no_apps",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_conflict_exit",
    "django/core/management/commands/makemigrations.py::Command.handle",
    "tests/user_commands/tests.py::CommandTests.test_check_migrations"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "5d36a8266c7d5d1994d7a7eeb4016f80d9cb0401",
    "total_functions_indexed": 26194,
    "retrieval_time_seconds": 0.012145280838012695
  },
  "raw_output": "[{\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_check\", \"score\": 0.7417972087860107}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_consistency_checks_respect_routers\", \"score\": 0.7385287880897522}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_inconsistent_history_db_failure\", \"score\": 0.7301976680755615}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_merge_dont_output_dependency_operations\", \"score\": 0.7264365553855896}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigration_merge_dry_run\", \"score\": 0.7261172533035278}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_dry_run_verbosity_3\", \"score\": 0.7246253490447998}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_changes_no_apps\", \"score\": 0.7194351553916931}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_conflict_exit\", \"score\": 0.7188131809234619}, {\"doc_id\": \"django/core/management/commands/makemigrations.py::Command.handle\", \"score\": 0.7157809734344482}, {\"doc_id\": \"tests/user_commands/tests.py::CommandTests.test_check_migrations\", \"score\": 0.715446949005127}]"
}