{
  "instance_id": "django__django-13741",
  "query": "Set disabled prop on ReadOnlyPasswordHashField\nDescription\n\t\nCurrently the django.contrib.auth.forms.UserChangeForm defines a clean_password method that returns the initial password value to prevent (accidental) changes to the password value. It is also documented that custom forms for the User model need to define this method: ​https://docs.djangoproject.com/en/3.1/topics/auth/customizing/#a-full-example\nA while ago the forms.Field base class gained the ​disabled argument to:\n[disable] a form field using the disabled HTML attribute so that it won’t be editable by users. Even if a user tampers with the field’s value submitted to the server, it will be ignored in favor of the value from the form’s initial data.\nIt seems to me that this property could be set to True be default on the ReadOnlyPasswordHashField used to display the password hash. This way the clean_password is no longer necessary and the potential pitfall when using the ReadOnlyPasswordHashField without implementing clean_password is removed.\n",
  "ground_truth": {
    "files": [
      "django/contrib/auth/forms.py"
    ],
    "locations": [
      "django/contrib/auth/forms.py::ReadOnlyPasswordHashField",
      "django/contrib/auth/forms.py::ReadOnlyPasswordHashField.__init__",
      "django/contrib/auth/forms.py::ReadOnlyPasswordHashField.bound_data",
      "django/contrib/auth/forms.py::ReadOnlyPasswordHashField.has_changed",
      "django/contrib/auth/forms.py::UsernameField",
      "django/contrib/auth/forms.py::UsernameField.to_python",
      "django/contrib/auth/forms.py::UserChangeForm",
      "django/contrib/auth/forms.py::UserChangeForm.__init__",
      "django/contrib/auth/forms.py::UserChangeForm.clean_password",
      "django/contrib/auth/forms.py::AuthenticationForm"
    ]
  },
  "predictions": [
    "django/contrib/auth/forms.py::ReadOnlyPasswordHashField.__init__",
    "django/contrib/auth/forms.py::ReadOnlyPasswordHashField.has_changed",
    "django/contrib/auth/forms.py::UserChangeForm.clean_password",
    "django/contrib/auth/forms.py::ReadOnlyPasswordHashField.bound_data",
    "tests/auth_tests/test_forms.py::UserChangeFormTest.test_bug_19349_bound_password_field",
    "tests/auth_tests/test_forms.py::ReadOnlyPasswordHashTest.test_readonly_field_has_changed",
    "tests/auth_tests/test_views.py::ChangelistTests.test_view_user_password_is_readonly",
    "tests/auth_tests/test_forms.py::ReadOnlyPasswordHashTest.test_bug_19349_render_with_none_value",
    "tests/auth_tests/test_forms.py::UserChangeFormTest.test_bug_19133",
    "tests/auth_tests/test_forms.py::UserChangeFormTest.test_unusable_password"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "d746f28949c009251a8741ba03d156964050717f",
    "total_functions_indexed": 24190,
    "retrieval_time_seconds": 0.012203693389892578
  },
  "raw_output": "[{\"doc_id\": \"django/contrib/auth/forms.py::ReadOnlyPasswordHashField.__init__\", \"score\": 0.7778230905532837}, {\"doc_id\": \"django/contrib/auth/forms.py::ReadOnlyPasswordHashField.has_changed\", \"score\": 0.770346999168396}, {\"doc_id\": \"django/contrib/auth/forms.py::UserChangeForm.clean_password\", \"score\": 0.7672058343887329}, {\"doc_id\": \"django/contrib/auth/forms.py::ReadOnlyPasswordHashField.bound_data\", \"score\": 0.7629793882369995}, {\"doc_id\": \"tests/auth_tests/test_forms.py::UserChangeFormTest.test_bug_19349_bound_password_field\", \"score\": 0.748091995716095}, {\"doc_id\": \"tests/auth_tests/test_forms.py::ReadOnlyPasswordHashTest.test_readonly_field_has_changed\", \"score\": 0.744083046913147}, {\"doc_id\": \"tests/auth_tests/test_views.py::ChangelistTests.test_view_user_password_is_readonly\", \"score\": 0.7426466941833496}, {\"doc_id\": \"tests/auth_tests/test_forms.py::ReadOnlyPasswordHashTest.test_bug_19349_render_with_none_value\", \"score\": 0.7286533713340759}, {\"doc_id\": \"tests/auth_tests/test_forms.py::UserChangeFormTest.test_bug_19133\", \"score\": 0.7216384410858154}, {\"doc_id\": \"tests/auth_tests/test_forms.py::UserChangeFormTest.test_unusable_password\", \"score\": 0.720119059085846}]"
}