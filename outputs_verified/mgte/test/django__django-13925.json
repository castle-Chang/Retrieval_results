{
  "instance_id": "django__django-13925",
  "query": "models.W042 is raised on inherited manually specified primary key.\nDescription\n\t\nI have models which inherit from other models, and they should inherit the primary key. This works fine with Django 3.1. However, if I install Django 3.2 alpha, when I run make_migrations I get the following error messages:\nSystem check identified some issues:\nWARNINGS:\naccounts.ReservedUsername: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\naccounts.User: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\nblocks.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\ncontact_by_form.Feedback: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreContactByFormConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\ncore_messages.ReadMark: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreMessagesConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\nfriendship.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\nfriendship.Follow: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\nfriendship.Friend: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\nfriendship.FriendshipRequest: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\nlikes.UserLike: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\nuploads.Image: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.\n\t\tHINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.\nThese models should not use auto-created primary keys! I already defined the primary key in the ancestor of the model. For example class Entity which class User inherits from. It looks to me like a bug in Django 3.2 alpha.\n",
  "ground_truth": {
    "files": [
      "django/db/models/base.py"
    ],
    "locations": [
      "django/db/models/base.py::Model",
      "django/db/models/base.py::Model._check_default_pk"
    ]
  },
  "predictions": [
    "django/db/models/fields/__init__.py::AutoFieldMixin._check_primary_key",
    "django/db/models/base.py::Model._check_default_pk",
    "tests/invalid_models_tests/test_ordinary_fields.py::AutoFieldTests.test_primary_key",
    "tests/check_framework/test_model_checks.py::ModelDefaultAutoFieldTests.test_auto_created_pk",
    "django/db/backends/base/schema.py::BaseDatabaseSchemaEditor._delete_primary_key",
    "django/db/backends/base/schema.py::BaseDatabaseSchemaEditor._field_became_primary_key",
    "django/db/backends/mysql/features.py::DatabaseFeatures.allows_auto_pk_0",
    "tests/schema/tests.py::SchemaTests.test_alter_autofield_pk_to_bigautofield_pk_sequence_owner",
    "django/db/migrations/autodetector.py::MigrationAutodetector.swappable_first_key",
    "django/db/backends/mysql/operations.py::DatabaseOperations.validate_autopk_value"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "0c42cdf0d2422f4c080e93594d5d15381d6e955e",
    "total_functions_indexed": 24238,
    "retrieval_time_seconds": 0.012369155883789062
  },
  "raw_output": "[{\"doc_id\": \"django/db/models/fields/__init__.py::AutoFieldMixin._check_primary_key\", \"score\": 0.7502502202987671}, {\"doc_id\": \"django/db/models/base.py::Model._check_default_pk\", \"score\": 0.7467933893203735}, {\"doc_id\": \"tests/invalid_models_tests/test_ordinary_fields.py::AutoFieldTests.test_primary_key\", \"score\": 0.7372547388076782}, {\"doc_id\": \"tests/check_framework/test_model_checks.py::ModelDefaultAutoFieldTests.test_auto_created_pk\", \"score\": 0.7292435169219971}, {\"doc_id\": \"django/db/backends/base/schema.py::BaseDatabaseSchemaEditor._delete_primary_key\", \"score\": 0.7241864204406738}, {\"doc_id\": \"django/db/backends/base/schema.py::BaseDatabaseSchemaEditor._field_became_primary_key\", \"score\": 0.7230820655822754}, {\"doc_id\": \"django/db/backends/mysql/features.py::DatabaseFeatures.allows_auto_pk_0\", \"score\": 0.717408299446106}, {\"doc_id\": \"tests/schema/tests.py::SchemaTests.test_alter_autofield_pk_to_bigautofield_pk_sequence_owner\", \"score\": 0.7138132452964783}, {\"doc_id\": \"django/db/migrations/autodetector.py::MigrationAutodetector.swappable_first_key\", \"score\": 0.7063132524490356}, {\"doc_id\": \"django/db/backends/mysql/operations.py::DatabaseOperations.validate_autopk_value\", \"score\": 0.703952431678772}]"
}