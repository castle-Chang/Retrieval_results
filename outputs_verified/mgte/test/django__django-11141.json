{
  "instance_id": "django__django-11141",
  "query": "Allow migrations directories without __init__.py files\nDescription\n\t \n\t\t(last modified by Tim Graham)\n\t \nBackground: In python 3 a package with no __init__.py is implicitly a namespace package, so it has no __file__ attribute. \nThe migrate command currently checks for existence of a __file__ attribute on the migrations package. This check was introduced in #21015, because the __file__ attribute was used in migration file discovery. \nHowever, in #23406 migration file discovery was changed to use pkgutil.iter_modules (), instead of direct filesystem access. pkgutil. iter_modules() uses the package's __path__ list, which exists on implicit namespace packages.\nAs a result, the __file__ check is no longer needed, and in fact prevents migrate from working on namespace packages (implicit or otherwise). \nRelated work: #29091\n",
  "ground_truth": {
    "files": [
      "django/db/migrations/loader.py"
    ],
    "locations": [
      "django/db/migrations/loader.py::MigrationLoader",
      "django/db/migrations/loader.py::MigrationLoader.load_disk"
    ]
  },
  "predictions": [
    "django/db/migrations/questioner.py::MigrationQuestioner.ask_initial",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_init",
    "tests/migrations/test_loader.py::LoaderTests.test_load_empty_dir",
    "tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_apps_initial",
    "tests/migrations/test_base.py::MigrationTestBase.temporary_migration_module",
    "tests/migrations/test_loader.py::LoaderTests.test_explicit_missing_module",
    "tests/migrations/test_loader.py::PycLoaderTests.test_invalid",
    "tests/migrations/test_loader.py::LoaderTests.test_ignore_files",
    "tests/migrations/test_loader.py::PycLoaderTests.test_valid",
    "django/db/migrations/writer.py::MigrationWriter.basedir"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "5d9cf79baf07fc4aed7ad1b06990532a65378155",
    "total_functions_indexed": 22871,
    "retrieval_time_seconds": 0.017368078231811523
  },
  "raw_output": "[{\"doc_id\": \"django/db/migrations/questioner.py::MigrationQuestioner.ask_initial\", \"score\": 0.7478936314582825}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_init\", \"score\": 0.7469779253005981}, {\"doc_id\": \"tests/migrations/test_loader.py::LoaderTests.test_load_empty_dir\", \"score\": 0.7401607036590576}, {\"doc_id\": \"tests/migrations/test_commands.py::MakeMigrationsTests.test_makemigrations_no_apps_initial\", \"score\": 0.7191704511642456}, {\"doc_id\": \"tests/migrations/test_base.py::MigrationTestBase.temporary_migration_module\", \"score\": 0.7082462906837463}, {\"doc_id\": \"tests/migrations/test_loader.py::LoaderTests.test_explicit_missing_module\", \"score\": 0.7053287029266357}, {\"doc_id\": \"tests/migrations/test_loader.py::PycLoaderTests.test_invalid\", \"score\": 0.7035881876945496}, {\"doc_id\": \"tests/migrations/test_loader.py::LoaderTests.test_ignore_files\", \"score\": 0.7015476226806641}, {\"doc_id\": \"tests/migrations/test_loader.py::PycLoaderTests.test_valid\", \"score\": 0.6993463039398193}, {\"doc_id\": \"django/db/migrations/writer.py::MigrationWriter.basedir\", \"score\": 0.6987823247909546}]"
}