{
  "instance_id": "django__django-10973",
  "query": "Use subprocess.run and PGPASSWORD for client in postgres backend\nDescription\n\t\nâ€‹subprocess.run was added in python 3.5 (which is the minimum version since Django 2.1). This function allows you to pass a custom environment for the subprocess.\nUsing this in django.db.backends.postgres.client to set PGPASSWORD simplifies the code and makes it more reliable.\n",
  "ground_truth": {
    "files": [
      "django/db/backends/postgresql/client.py"
    ],
    "locations": [
      "django/db/backends/postgresql/client.py::_escape_pgpass",
      "django/db/backends/postgresql/client.py::DatabaseClient",
      "django/db/backends/postgresql/client.py::DatabaseClient.runshell_db",
      "django/db/backends/postgresql/client.py::DatabaseClient.runshell"
    ]
  },
  "predictions": [
    "django/db/backends/postgresql/client.py::DatabaseClient.runshell_db",
    "tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase._run_it",
    "django/db/backends/postgresql/client.py::_escape_pgpass",
    "django/db/backends/postgresql/client.py::DatabaseClient.runshell",
    "tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase.test_basic",
    "tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase.test_escape_characters",
    "tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase.test_nopass",
    "django/db/backends/sqlite3/client.py::DatabaseClient.runshell",
    "django/db/backends/postgresql/base.py::DatabaseWrapper._nodb_connection",
    "tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase.test_accent"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "ddb293685235fd09e932805771ae97f72e817181",
    "total_functions_indexed": 22290,
    "retrieval_time_seconds": 0.0054302215576171875
  },
  "raw_output": "[{\"doc_id\": \"django/db/backends/postgresql/client.py::DatabaseClient.runshell_db\", \"score\": 0.7798593044281006}, {\"doc_id\": \"tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase._run_it\", \"score\": 0.7621376514434814}, {\"doc_id\": \"django/db/backends/postgresql/client.py::_escape_pgpass\", \"score\": 0.7298147678375244}, {\"doc_id\": \"django/db/backends/postgresql/client.py::DatabaseClient.runshell\", \"score\": 0.7182005643844604}, {\"doc_id\": \"tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase.test_basic\", \"score\": 0.7077130079269409}, {\"doc_id\": \"tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase.test_escape_characters\", \"score\": 0.7049366235733032}, {\"doc_id\": \"tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase.test_nopass\", \"score\": 0.6999655365943909}, {\"doc_id\": \"django/db/backends/sqlite3/client.py::DatabaseClient.runshell\", \"score\": 0.6992557048797607}, {\"doc_id\": \"django/db/backends/postgresql/base.py::DatabaseWrapper._nodb_connection\", \"score\": 0.6985117197036743}, {\"doc_id\": \"tests/dbshell/test_postgresql.py::PostgreSqlDbshellCommandTestCase.test_accent\", \"score\": 0.6976105570793152}]"
}