{
  "instance_id": "matplotlib__matplotlib-23987",
  "query": "[Bug]: Constrained layout UserWarning even when False\n### Bug summary\r\n\r\nWhen using layout settings such as `plt.subplots_adjust` or `bbox_inches='tight`, a UserWarning is produced due to incompatibility with constrained_layout, even if constrained_layout = False. This was not the case in previous versions.\r\n\r\n### Code for reproduction\r\n\r\n```python\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\na = np.linspace(0,2*np.pi,100)\r\nb = np.sin(a)\r\nc = np.cos(a)\r\nfig,ax = plt.subplots(1,2,figsize=(8,2),constrained_layout=False)\r\nax[0].plot(a,b)\r\nax[1].plot(a,c)\r\nplt.subplots_adjust(wspace=0)\r\n```\r\n\r\n\r\n### Actual outcome\r\n\r\nThe plot works fine but the warning is generated\r\n\r\n`/var/folders/ss/pfgdfm2x7_s4cyw2v0b_t7q80000gn/T/ipykernel_76923/4170965423.py:7: UserWarning: This figure was using a layout engine that is incompatible with subplots_adjust and/or tight_layout; not calling subplots_adjust.\r\n  plt.subplots_adjust(wspace=0)`\r\n\r\n### Expected outcome\r\n\r\nno warning\r\n\r\n### Additional information\r\n\r\nWarning disappears when constrained_layout=False is removed\r\n\r\n### Operating system\r\n\r\nOS/X\r\n\r\n### Matplotlib Version\r\n\r\n3.6.0\r\n\r\n### Matplotlib Backend\r\n\r\n_No response_\r\n\r\n### Python version\r\n\r\n_No response_\r\n\r\n### Jupyter version\r\n\r\n_No response_\r\n\r\n### Installation\r\n\r\nconda\n",
  "ground_truth": {
    "files": [
      "lib/matplotlib/figure.py"
    ],
    "locations": [
      "lib/matplotlib/figure.py::Figure",
      "lib/matplotlib/figure.py::Figure.__init__"
    ]
  },
  "predictions": [
    "lib/matplotlib/tests/test_figure.py::test_invalid_layouts",
    "lib/matplotlib/figure.py::FigureBase.subplots_adjust",
    "lib/matplotlib/tests/test_constrainedlayout.py::test_hidden_axes",
    "lib/matplotlib/figure.py::Figure.__init__",
    "lib/matplotlib/layout_engine.py::ConstrainedLayoutEngine.__init__",
    "lib/matplotlib/tests/test_legend.py::TestLegendFunction.test_warn_mixed_args_and_kwargs",
    "lib/matplotlib/tests/test_bbox_tight.py::test_noop_tight_bbox",
    "lib/matplotlib/tests/test_constrainedlayout.py::test_constrained_layout5",
    "lib/matplotlib/figure.py::Figure.set_layout_engine",
    "lib/matplotlib/pyplot.py::subplots"
  ],
  "metadata": {
    "repo": "matplotlib/matplotlib",
    "commit": "e98d8d085e8f53ec0467422b326f7738a2dd695e",
    "total_functions_indexed": 9083,
    "retrieval_time_seconds": 0.5253803730010986
  },
  "raw_output": "[{\"doc_id\": \"lib/matplotlib/tests/test_figure.py::test_invalid_layouts\", \"score\": 178.42594224726716}, {\"doc_id\": \"lib/matplotlib/figure.py::FigureBase.subplots_adjust\", \"score\": 143.139462438943}, {\"doc_id\": \"lib/matplotlib/tests/test_constrainedlayout.py::test_hidden_axes\", \"score\": 136.07135876965322}, {\"doc_id\": \"lib/matplotlib/figure.py::Figure.__init__\", \"score\": 134.56830127231777}, {\"doc_id\": \"lib/matplotlib/layout_engine.py::ConstrainedLayoutEngine.__init__\", \"score\": 131.97168212346045}, {\"doc_id\": \"lib/matplotlib/tests/test_legend.py::TestLegendFunction.test_warn_mixed_args_and_kwargs\", \"score\": 126.56171332867392}, {\"doc_id\": \"lib/matplotlib/tests/test_bbox_tight.py::test_noop_tight_bbox\", \"score\": 121.74800454800008}, {\"doc_id\": \"lib/matplotlib/tests/test_constrainedlayout.py::test_constrained_layout5\", \"score\": 120.58555895288316}, {\"doc_id\": \"lib/matplotlib/figure.py::Figure.set_layout_engine\", \"score\": 120.0784140416788}, {\"doc_id\": \"lib/matplotlib/pyplot.py::subplots\", \"score\": 119.35223479752716}]"
}