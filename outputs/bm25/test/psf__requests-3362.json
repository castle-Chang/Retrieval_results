{
  "instance_id": "psf__requests-3362",
  "query": "Uncertain about content/text vs iter_content(decode_unicode=True/False)\nWhen requesting an application/json document, I'm seeing `next(r.iter_content(16*1024, decode_unicode=True))` returning bytes, whereas `r.text` returns unicode. My understanding was that both should return a unicode object. In essence, I thought \"iter_content\" was equivalent to \"iter_text\" when decode_unicode was True. Have I misunderstood something? I can provide an example if needed.\n\nFor reference, I'm using python 3.5.1 and requests 2.10.0.\n\nThanks!\n\n",
  "ground_truth": {
    "files": [
      "requests/utils.py"
    ],
    "locations": [
      "requests/utils.py::stream_decode_response_unicode"
    ]
  },
  "predictions": [
    "tests/test_requests.py::TestRequests.test_response_decode_unicode",
    "requests/utils.py::unquote_unreserved",
    "tests/test_requests.py::TestRequests.test_requests_history_is_saved",
    "requests/packages/chardet/jpcntx.py::JapaneseContextAnalysis.feed",
    "requests/models.py::Response.iter_content",
    "requests/models.py::Response.iter_lines",
    "tests/test_requests.py::TestRequests.test_response_chunk_size_int",
    "requests/packages/chardet/eucjpprober.py::EUCJPProber.feed",
    "requests/utils.py::get_encodings_from_content",
    "requests/models.py::Response.content"
  ],
  "metadata": {
    "repo": "psf/requests",
    "commit": "36453b95b13079296776d11b09cab2567ea3e703",
    "total_functions_indexed": 808,
    "retrieval_time_seconds": 0.023421287536621094
  },
  "raw_output": "[{\"doc_id\": \"tests/test_requests.py::TestRequests.test_response_decode_unicode\", \"score\": 86.79954723832269}, {\"doc_id\": \"requests/utils.py::unquote_unreserved\", \"score\": 56.639747021014074}, {\"doc_id\": \"tests/test_requests.py::TestRequests.test_requests_history_is_saved\", \"score\": 53.81036938871038}, {\"doc_id\": \"requests/packages/chardet/jpcntx.py::JapaneseContextAnalysis.feed\", \"score\": 53.784374052072124}, {\"doc_id\": \"requests/models.py::Response.iter_content\", \"score\": 52.3448665167875}, {\"doc_id\": \"requests/models.py::Response.iter_lines\", \"score\": 52.131352625914744}, {\"doc_id\": \"tests/test_requests.py::TestRequests.test_response_chunk_size_int\", \"score\": 50.40996289068521}, {\"doc_id\": \"requests/packages/chardet/eucjpprober.py::EUCJPProber.feed\", \"score\": 46.37948590103367}, {\"doc_id\": \"requests/utils.py::get_encodings_from_content\", \"score\": 45.75076347694006}, {\"doc_id\": \"requests/models.py::Response.content\", \"score\": 45.36829771578399}]"
}