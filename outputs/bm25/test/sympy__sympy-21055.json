{
  "instance_id": "sympy__sympy-21055",
  "query": "`refine()` does not understand how to simplify complex arguments\nJust learned about the refine-function, which would come in handy frequently for me.  But\r\n`refine()` does not recognize that argument functions simplify for real numbers.\r\n\r\n```\r\n>>> from sympy import *                                                     \r\n>>> var('a,x')                                                              \r\n>>> J = Integral(sin(x)*exp(-a*x),(x,0,oo))                                     \r\n>>> J.doit()\r\n\tPiecewise((1/(a**2 + 1), 2*Abs(arg(a)) < pi), (Integral(exp(-a*x)*sin(x), (x, 0, oo)), True))\r\n>>> refine(J.doit(),Q.positive(a))                                                 \r\n        Piecewise((1/(a**2 + 1), 2*Abs(arg(a)) < pi), (Integral(exp(-a*x)*sin(x), (x, 0, oo)), True))\r\n>>> refine(abs(a),Q.positive(a))                                            \r\n\ta\r\n>>> refine(arg(a),Q.positive(a))                                            \r\n\targ(a)\r\n```\r\nI cann't find any open issues identifying this.  Easy to fix, though.\r\n\r\n\n",
  "ground_truth": {
    "files": [
      "sympy/assumptions/refine.py"
    ],
    "locations": [
      "sympy/assumptions/refine.py::refine_im",
      "sympy/assumptions/refine.py::_refine_reim"
    ]
  },
  "predictions": [
    "sympy/assumptions/refine.py::refine",
    "sympy/assumptions/refine.py::refine_abs",
    "sympy/integrals/tests/test_meijerint.py::test_meijerint",
    "sympy/assumptions/tests/test_refine.py::test_Abs",
    "sympy/assumptions/tests/test_refine.py::test_sign",
    "sympy/assumptions/tests/test_refine.py::test_pow1",
    "sympy/assumptions/tests/test_refine.py::test_matrixelement",
    "sympy/functions/elementary/tests/test_complexes.py::test_Abs",
    "sympy/functions/elementary/piecewise.py::Piecewise._eval_integral",
    "sympy/assumptions/tests/test_refine.py::test_refine_issue_12724"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "748ce73479ee2cd5c861431091001cc18943c735",
    "total_functions_indexed": 36120,
    "retrieval_time_seconds": 2.073470115661621
  },
  "raw_output": "[{\"doc_id\": \"sympy/assumptions/refine.py::refine\", \"score\": 209.07512811341326}, {\"doc_id\": \"sympy/assumptions/refine.py::refine_abs\", \"score\": 200.03244288775167}, {\"doc_id\": \"sympy/integrals/tests/test_meijerint.py::test_meijerint\", \"score\": 191.09234771060034}, {\"doc_id\": \"sympy/assumptions/tests/test_refine.py::test_Abs\", \"score\": 175.03184491038633}, {\"doc_id\": \"sympy/assumptions/tests/test_refine.py::test_sign\", \"score\": 170.83011457917013}, {\"doc_id\": \"sympy/assumptions/tests/test_refine.py::test_pow1\", \"score\": 169.38410372605495}, {\"doc_id\": \"sympy/assumptions/tests/test_refine.py::test_matrixelement\", \"score\": 167.81589845183635}, {\"doc_id\": \"sympy/functions/elementary/tests/test_complexes.py::test_Abs\", \"score\": 166.78253166033613}, {\"doc_id\": \"sympy/functions/elementary/piecewise.py::Piecewise._eval_integral\", \"score\": 164.35168372682153}, {\"doc_id\": \"sympy/assumptions/tests/test_refine.py::test_refine_issue_12724\", \"score\": 164.08809131540713}]"
}