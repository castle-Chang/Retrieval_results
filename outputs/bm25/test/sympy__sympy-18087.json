{
  "instance_id": "sympy__sympy-18087",
  "query": "Simplify of simple trig expression fails\ntrigsimp in various versions, including 1.5, incorrectly simplifies cos(x)+sqrt(sin(x)**2) as though it were cos(x)+sin(x) for general complex x. (Oddly it gets this right if x is real.)\r\n\r\nEmbarrassingly I found this by accident while writing sympy-based teaching material...\r\n\n",
  "ground_truth": {
    "files": [
      "sympy/core/exprtools.py"
    ],
    "locations": [
      "sympy/core/exprtools.py::Factors",
      "sympy/core/exprtools.py::Factors.__init__",
      "sympy/core/exprtools.py::Factors.as_expr"
    ]
  },
  "predictions": [
    "sympy/utilities/lambdify.py::lambdify",
    "sympy/simplify/trigsimp.py::trigsimp_groebner",
    "sympy/simplify/trigsimp.py::trigsimp_old",
    "sympy/solvers/decompogen.py::decompogen",
    "sympy/solvers/decompogen.py::compogen",
    "sympy/core/basic.py::Basic.replace",
    "sympy/simplify/epathtools.py::epath",
    "sympy/solvers/ode.py::_undetermined_coefficients_match",
    "sympy/simplify/tests/test_trigsimp.py::test_trigsimp_issues",
    "sympy/simplify/simplify.py::simplify"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "9da013ad0ddc3cd96fe505f2e47c63e372040916",
    "total_functions_indexed": 33602,
    "retrieval_time_seconds": 0.8579342365264893
  },
  "raw_output": "[{\"doc_id\": \"sympy/utilities/lambdify.py::lambdify\", \"score\": 66.96900217344864}, {\"doc_id\": \"sympy/simplify/trigsimp.py::trigsimp_groebner\", \"score\": 62.96812278975942}, {\"doc_id\": \"sympy/simplify/trigsimp.py::trigsimp_old\", \"score\": 61.99975411406509}, {\"doc_id\": \"sympy/solvers/decompogen.py::decompogen\", \"score\": 60.93959405666973}, {\"doc_id\": \"sympy/solvers/decompogen.py::compogen\", \"score\": 60.04448941967989}, {\"doc_id\": \"sympy/core/basic.py::Basic.replace\", \"score\": 59.84401735741211}, {\"doc_id\": \"sympy/simplify/epathtools.py::epath\", \"score\": 59.58043346410193}, {\"doc_id\": \"sympy/solvers/ode.py::_undetermined_coefficients_match\", \"score\": 58.70613208067566}, {\"doc_id\": \"sympy/simplify/tests/test_trigsimp.py::test_trigsimp_issues\", \"score\": 58.341541345108524}, {\"doc_id\": \"sympy/simplify/simplify.py::simplify\", \"score\": 58.33826077888311}]"
}