{
  "instance_id": "django__django-15819",
  "query": "inspectdb should generate related_name on same relation links.\nDescription\n\t\nHi!\nAfter models generation with inspectdb command we have issue with relations to same enities\nmodule.Model.field1: (fields.E304) Reverse accessor for 'module.Model.field1' clashes with reverse accessor for 'module.Model.field2'.\nHINT: Add or change a related_name argument to the definition for 'module.Model.field1' or 'module.Model.field2'.\n*\nMaybe we can autogenerate\nrelated_name='attribute_name'\nto all fields in model if related Model was used for this table\n",
  "ground_truth": {
    "files": [
      "django/core/management/commands/inspectdb.py"
    ],
    "locations": [
      "django/core/management/commands/inspectdb.py::Command",
      "django/core/management/commands/inspectdb.py::Command.handle_inspection"
    ]
  },
  "predictions": [
    "tests/invalid_models_tests/test_relative_fields.py::ComplexClashTests.test_complex_clash",
    "tests/invalid_models_tests/test_relative_fields.py::SelfReferentialM2MClashTests.test_clash_between_accessors",
    "tests/invalid_models_tests/test_relative_fields.py::AccessorClashTests.test_clash_between_accessors",
    "tests/invalid_models_tests/test_relative_fields.py::SelfReferentialM2MClashTests.test_clash_under_explicit_related_name",
    "tests/invalid_models_tests/test_relative_fields.py::SelfReferentialFKClashTests.test_clash_under_explicit_related_name",
    "django/db/models/fields/related.py::RelatedField._check_clashes",
    "tests/invalid_models_tests/test_relative_fields.py::ExplicitRelatedNameClashTests._test_explicit_related_name_clash",
    "tests/invalid_models_tests/test_relative_fields.py::SelfReferentialFKClashTests.test_accessor_clash",
    "tests/invalid_models_tests/test_relative_fields.py::SelfReferentialM2MClashTests.test_accessor_clash",
    "tests/invalid_models_tests/test_relative_fields.py::AccessorClashTests._test_accessor_clash"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "877c800f255ccaa7abde1fb944de45d1616f5cc9",
    "total_functions_indexed": 26058,
    "retrieval_time_seconds": 0.7594642639160156
  },
  "raw_output": "[{\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::ComplexClashTests.test_complex_clash\", \"score\": 164.37149775032785}, {\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::SelfReferentialM2MClashTests.test_clash_between_accessors\", \"score\": 160.35152653329962}, {\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::AccessorClashTests.test_clash_between_accessors\", \"score\": 159.01675625867674}, {\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::SelfReferentialM2MClashTests.test_clash_under_explicit_related_name\", \"score\": 138.04056786637173}, {\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::SelfReferentialFKClashTests.test_clash_under_explicit_related_name\", \"score\": 137.83529347797787}, {\"doc_id\": \"django/db/models/fields/related.py::RelatedField._check_clashes\", \"score\": 132.7775848703705}, {\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::ExplicitRelatedNameClashTests._test_explicit_related_name_clash\", \"score\": 130.72752100586985}, {\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::SelfReferentialFKClashTests.test_accessor_clash\", \"score\": 126.98541797970518}, {\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::SelfReferentialM2MClashTests.test_accessor_clash\", \"score\": 125.93792342788251}, {\"doc_id\": \"tests/invalid_models_tests/test_relative_fields.py::AccessorClashTests._test_accessor_clash\", \"score\": 119.50214602550362}]"
}