{
  "instance_id": "mwaskom__seaborn-2848",
  "query": "pairplot fails with hue_order not containing all hue values in seaborn 0.11.1\nIn seaborn < 0.11, one could plot only a subset of the values in the hue column, by passing a hue_order list containing only the desired values. Points with hue values not in the list were simply not plotted.\n```python\niris = sns.load_dataset(\"iris\")`\n# The hue column contains three different species; here we want to plot two\nsns.pairplot(iris, hue=\"species\", hue_order=[\"setosa\", \"versicolor\"])\n```\n\nThis no longer works in 0.11.1. Passing a hue_order list that does not contain some of the values in the hue column raises a long, ugly error traceback. The first exception arises in seaborn/_core.py:\n```\nTypeError: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''\n```\nseaborn version: 0.11.1\nmatplotlib version: 3.3.2\nmatplotlib backends: MacOSX, Agg or jupyter notebook inline.",
  "ground_truth": {
    "files": [
      "seaborn/_oldcore.py"
    ],
    "locations": [
      "seaborn/_oldcore.py::HueMapping",
      "seaborn/_oldcore.py::HueMapping._lookup_single"
    ]
  },
  "predictions": [
    "seaborn/matrix.py::clustermap",
    "seaborn/axisgrid.py::PairGrid.__init__",
    "seaborn/axisgrid.py::pairplot",
    "seaborn/rcmod.py::plotting_context",
    "seaborn/axisgrid.py::FacetGrid.map",
    "seaborn/rcmod.py::set_context",
    "seaborn/palettes.py::cubehelix_palette",
    "seaborn/_oldcore.py::SizeMapping.numeric_mapping",
    "seaborn/categorical.py::_CategoricalPlotterNew._hue_backcompat",
    "seaborn/palettes.py::light_palette"
  ],
  "metadata": {
    "repo": "mwaskom/seaborn",
    "commit": "94621cef29f80282436d73e8d2c0aa76dab81273",
    "total_functions_indexed": 2099,
    "retrieval_time_seconds": 0.13098788261413574
  },
  "raw_output": "[{\"doc_id\": \"seaborn/matrix.py::clustermap\", \"score\": 169.15992335396152}, {\"doc_id\": \"seaborn/axisgrid.py::PairGrid.__init__\", \"score\": 148.556191235171}, {\"doc_id\": \"seaborn/axisgrid.py::pairplot\", \"score\": 148.4437397928936}, {\"doc_id\": \"seaborn/rcmod.py::plotting_context\", \"score\": 147.7918987306527}, {\"doc_id\": \"seaborn/axisgrid.py::FacetGrid.map\", \"score\": 142.18901007712202}, {\"doc_id\": \"seaborn/rcmod.py::set_context\", \"score\": 141.2980213032158}, {\"doc_id\": \"seaborn/palettes.py::cubehelix_palette\", \"score\": 140.21770091433973}, {\"doc_id\": \"seaborn/_oldcore.py::SizeMapping.numeric_mapping\", \"score\": 138.73512124929593}, {\"doc_id\": \"seaborn/categorical.py::_CategoricalPlotterNew._hue_backcompat\", \"score\": 138.51214831263215}, {\"doc_id\": \"seaborn/palettes.py::light_palette\", \"score\": 138.004941155336}]"
}