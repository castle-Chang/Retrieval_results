{
  "instance_id": "django__django-10924",
  "query": "Allow FilePathField path to accept a callable.\nDescription\n\t\nI have a special case where I want to create a model containing the path to some local files on the server/dev machine. Seeing as the place where these files are stored is different on different machines I have the following:\nimport os\nfrom django.conf import settings\nfrom django.db import models\nclass LocalFiles(models.Model):\n\tname = models.CharField(max_length=255)\n\tfile = models.FilePathField(path=os.path.join(settings.LOCAL_FILE_DIR, 'example_dir'))\nNow when running manage.py makemigrations it will resolve the path based on the machine it is being run on. Eg: /home/<username>/server_files/example_dir\nI had to manually change the migration to include the os.path.join() part to not break this when running the migration on production/other machine.\n",
  "ground_truth": {
    "files": [
      "django/db/models/fields/__init__.py"
    ],
    "locations": [
      "django/db/models/fields/__init__.py::FilePathField",
      "django/db/models/fields/__init__.py::FilePathField.formfield"
    ]
  },
  "predictions": [
    "django/db/models/fields/__init__.py::FilePathField.get_internal_type",
    "django/db/models/fields/__init__.py::FilePathField.formfield",
    "django/db/models/fields/__init__.py::FilePathField.get_prep_value",
    "django/db/models/fields/__init__.py::FilePathField.__init__",
    "django/db/models/fields/__init__.py::FilePathField.deconstruct",
    "tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_allow_folders",
    "django/db/models/fields/__init__.py::FilePathField.check",
    "tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_recursive_folders_without_files",
    "django/db/models/fields/files.py::FieldFile.path",
    "tests/model_forms/tests.py::FileAndImageFieldTests.test_file_path_field_blank"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "bceadd2788dc2dad53eba0caae172bd8522fd483",
    "total_functions_indexed": 22462,
    "retrieval_time_seconds": 0.01031637191772461
  },
  "raw_output": "[{\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.get_internal_type\", \"score\": 0.6040793061256409}, {\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.formfield\", \"score\": 0.5859955549240112}, {\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.get_prep_value\", \"score\": 0.564359724521637}, {\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.__init__\", \"score\": 0.562005341053009}, {\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.deconstruct\", \"score\": 0.4772297143936157}, {\"doc_id\": \"tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_allow_folders\", \"score\": 0.47053200006484985}, {\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.check\", \"score\": 0.4572099447250366}, {\"doc_id\": \"tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_recursive_folders_without_files\", \"score\": 0.456714391708374}, {\"doc_id\": \"django/db/models/fields/files.py::FieldFile.path\", \"score\": 0.44020992517471313}, {\"doc_id\": \"tests/model_forms/tests.py::FileAndImageFieldTests.test_file_path_field_blank\", \"score\": 0.43940943479537964}]"
}