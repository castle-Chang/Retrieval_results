{
  "instance_id": "django__django-11742",
  "query": "Add check to ensure max_length fits longest choice.\nDescription\n\t\nThere is currently no check to ensure that Field.max_length is large enough to fit the longest value in Field.choices.\nThis would be very helpful as often this mistake is not noticed until an attempt is made to save a record with those values that are too long.\n",
  "ground_truth": {
    "files": [
      "django/db/models/fields/__init__.py"
    ],
    "locations": [
      "django/db/models/fields/__init__.py::Field",
      "django/db/models/fields/__init__.py::Field._check_choices"
    ]
  },
  "predictions": [
    "django/db/models/fields/__init__.py::CharField.__init__",
    "django/db/models/fields/__init__.py::CharField.check",
    "django/core/validators.py::MaxLengthValidator.compare",
    "django/db/models/fields/__init__.py::CharField._check_max_length_attribute",
    "django/db/models/fields/__init__.py::IntegerField.check",
    "django/db/models/fields/__init__.py::BinaryField.__init__",
    "tests/max_lengths/tests.py::MaxLengthArgumentsTests.verify_max_length",
    "django/core/validators.py::MaxLengthValidator.clean",
    "django/db/models/fields/__init__.py::IntegerField._check_max_length_warning",
    "django/db/models/fields/__init__.py::TextField.formfield"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "fee75d2aed4e58ada6567c464cfd22e89dc65f4a",
    "total_functions_indexed": 22837,
    "retrieval_time_seconds": 0.007222652435302734
  },
  "raw_output": "[{\"doc_id\": \"django/db/models/fields/__init__.py::CharField.__init__\", \"score\": 0.5365928411483765}, {\"doc_id\": \"django/db/models/fields/__init__.py::CharField.check\", \"score\": 0.5112239122390747}, {\"doc_id\": \"django/core/validators.py::MaxLengthValidator.compare\", \"score\": 0.48978376388549805}, {\"doc_id\": \"django/db/models/fields/__init__.py::CharField._check_max_length_attribute\", \"score\": 0.48472559452056885}, {\"doc_id\": \"django/db/models/fields/__init__.py::IntegerField.check\", \"score\": 0.47928473353385925}, {\"doc_id\": \"django/db/models/fields/__init__.py::BinaryField.__init__\", \"score\": 0.46639370918273926}, {\"doc_id\": \"tests/max_lengths/tests.py::MaxLengthArgumentsTests.verify_max_length\", \"score\": 0.4544540345668793}, {\"doc_id\": \"django/core/validators.py::MaxLengthValidator.clean\", \"score\": 0.43903690576553345}, {\"doc_id\": \"django/db/models/fields/__init__.py::IntegerField._check_max_length_warning\", \"score\": 0.43625298142433167}, {\"doc_id\": \"django/db/models/fields/__init__.py::TextField.formfield\", \"score\": 0.432674378156662}]"
}