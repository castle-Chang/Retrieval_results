{
  "instance_id": "pytest-dev__pytest-5495",
  "query": "Confusing assertion rewriting message with byte strings\nThe comparison with assertion rewriting for byte strings is confusing: \r\n```\r\n    def test_b():\r\n>       assert b\"\" == b\"42\"\r\nE       AssertionError: assert b'' == b'42'\r\nE         Right contains more items, first extra item: 52\r\nE         Full diff:\r\nE         - b''\r\nE         + b'42'\r\nE         ?   ++\r\n```\r\n\r\n52 is the ASCII ordinal of \"4\" here.\r\n\r\nIt became clear to me when using another example:\r\n\r\n```\r\n    def test_b():\r\n>       assert b\"\" == b\"1\"\r\nE       AssertionError: assert b'' == b'1'\r\nE         Right contains more items, first extra item: 49\r\nE         Full diff:\r\nE         - b''\r\nE         + b'1'\r\nE         ?   +\r\n```\r\n\r\nNot sure what should/could be done here.\n",
  "ground_truth": {
    "files": [
      "src/_pytest/assertion/util.py"
    ],
    "locations": [
      "src/_pytest/assertion/util.py::_compare_eq_sequence"
    ]
  },
  "predictions": [
    "testing/test_assertrewrite.py::TestAssertionRewrite.test_assertion_messages_bytes",
    "testing/test_assertrewrite.py::TestAssertionRewrite.test_custom_repr_non_ascii",
    "testing/test_assertrewrite.py::TestAssertionRewrite.test_custom_reprcompare",
    "testing/test_assertion.py::TestAssert_reprcompare.test_mojibake",
    "testing/test_assertrewrite.py::TestAssertionRewrite.test_assertion_message_escape",
    "testing/test_assertrewrite.py::TestAssertionRewrite.test_binary_op",
    "src/_pytest/assertion/rewrite.py::AssertionRewriter.visit_Compare",
    "src/_pytest/assertion/__init__.py::pytest_runtest_setup",
    "testing/test_capture.py::TestCaptureFixture.test_capfdbinary",
    "testing/test_assertion.py::test_raise_unprintable_assertion_error"
  ],
  "metadata": {
    "repo": "pytest-dev/pytest",
    "commit": "1aefb24b37c30fba8fd79a744829ca16e252f340",
    "total_functions_indexed": 3489,
    "retrieval_time_seconds": 0.0914309024810791
  },
  "raw_output": "[{\"doc_id\": \"testing/test_assertrewrite.py::TestAssertionRewrite.test_assertion_messages_bytes\", \"score\": 0.3659777343273163}, {\"doc_id\": \"testing/test_assertrewrite.py::TestAssertionRewrite.test_custom_repr_non_ascii\", \"score\": 0.33496811985969543}, {\"doc_id\": \"testing/test_assertrewrite.py::TestAssertionRewrite.test_custom_reprcompare\", \"score\": 0.3065418601036072}, {\"doc_id\": \"testing/test_assertion.py::TestAssert_reprcompare.test_mojibake\", \"score\": 0.29936152696609497}, {\"doc_id\": \"testing/test_assertrewrite.py::TestAssertionRewrite.test_assertion_message_escape\", \"score\": 0.29287391901016235}, {\"doc_id\": \"testing/test_assertrewrite.py::TestAssertionRewrite.test_binary_op\", \"score\": 0.29180479049682617}, {\"doc_id\": \"src/_pytest/assertion/rewrite.py::AssertionRewriter.visit_Compare\", \"score\": 0.2867562770843506}, {\"doc_id\": \"src/_pytest/assertion/__init__.py::pytest_runtest_setup\", \"score\": 0.2820647358894348}, {\"doc_id\": \"testing/test_capture.py::TestCaptureFixture.test_capfdbinary\", \"score\": 0.2792651951313019}, {\"doc_id\": \"testing/test_assertion.py::test_raise_unprintable_assertion_error\", \"score\": 0.2757297158241272}]"
}