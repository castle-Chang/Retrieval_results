{
  "instance_id": "sympy__sympy-15678",
  "query": "Some issues with idiff\nidiff doesn't support Eq, and it also doesn't support f(x) instead of y. Both should be easy to correct.\r\n\r\n```\r\n>>> idiff(Eq(y*exp(y), x*exp(x)), y, x)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"./sympy/geometry/util.py\", line 582, in idiff\r\n    yp = solve(eq.diff(x), dydx)[0].subs(derivs)\r\nIndexError: list index out of range\r\n>>> idiff(f(x)*exp(f(x)) - x*exp(x), f(x), x)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"./sympy/geometry/util.py\", line 574, in idiff\r\n    raise ValueError(\"expecting x-dependent symbol(s) but got: %s\" % y)\r\nValueError: expecting x-dependent symbol(s) but got: f(x)\r\n>>> idiff(y*exp(y)- x*exp(x), y, x)\r\n(x + 1)*exp(x - y)/(y + 1)\r\n```\n",
  "ground_truth": {
    "files": [
      "sympy/geometry/util.py"
    ],
    "locations": [
      "sympy/geometry/util.py::idiff"
    ]
  },
  "predictions": [
    "sympy/geometry/util.py::idiff",
    "sympy/geometry/tests/test_util.py::test_idiff",
    "sympy/core/function.py::diff",
    "sympy/solvers/ode.py::ode_1st_exact",
    "sympy/core/tests/test_function.py::test_derivative_subs_self_bug",
    "sympy/core/tests/test_function.py::test_derivative_subs_bug",
    "sympy/solvers/tests/test_ode.py::test_issue_7081",
    "sympy/core/tests/test_function.py::test_issue_12005",
    "sympy/core/tests/test_function.py::test_unhandled",
    "sympy/core/tests/test_function.py::test_derivative_linearity"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "31c68eef3ffef39e2e792b0ec92cd92b7010eb2a",
    "total_functions_indexed": 24378,
    "retrieval_time_seconds": 0.2797677516937256
  },
  "raw_output": "[{\"doc_id\": \"sympy/geometry/util.py::idiff\", \"score\": 0.6154207587242126}, {\"doc_id\": \"sympy/geometry/tests/test_util.py::test_idiff\", \"score\": 0.4923749268054962}, {\"doc_id\": \"sympy/core/function.py::diff\", \"score\": 0.4567425847053528}, {\"doc_id\": \"sympy/solvers/ode.py::ode_1st_exact\", \"score\": 0.45212382078170776}, {\"doc_id\": \"sympy/core/tests/test_function.py::test_derivative_subs_self_bug\", \"score\": 0.4507403075695038}, {\"doc_id\": \"sympy/core/tests/test_function.py::test_derivative_subs_bug\", \"score\": 0.4461372494697571}, {\"doc_id\": \"sympy/solvers/tests/test_ode.py::test_issue_7081\", \"score\": 0.4394029676914215}, {\"doc_id\": \"sympy/core/tests/test_function.py::test_issue_12005\", \"score\": 0.4343652129173279}, {\"doc_id\": \"sympy/core/tests/test_function.py::test_unhandled\", \"score\": 0.4316965937614441}, {\"doc_id\": \"sympy/core/tests/test_function.py::test_derivative_linearity\", \"score\": 0.4307408332824707}]"
}