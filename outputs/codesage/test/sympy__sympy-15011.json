{
  "instance_id": "sympy__sympy-15011",
  "query": "lambdify does not work with certain MatrixSymbol names even with dummify=True\n`lambdify` is happy with curly braces in a symbol name and with `MatrixSymbol`s, but not with both at the same time, even if `dummify` is `True`.\r\n\r\nHere is some basic code that gives the error.\r\n```\r\nimport sympy as sy\r\ncurlyx = sy.symbols(\"{x}\")\r\nv = sy.MatrixSymbol(\"v\", 2, 1)\r\ncurlyv = sy.MatrixSymbol(\"{v}\", 2, 1)\r\n```\r\n\r\nThe following two lines of code work:\r\n```\r\ncurlyScalarId = sy.lambdify(curlyx, curlyx)\r\nvectorId = sy.lambdify(v,v)\r\n```\r\n\r\nThe following two lines of code give a `SyntaxError`:\r\n```\r\ncurlyVectorId = sy.lambdify(curlyv, curlyv)\r\ncurlyVectorIdDummified = sy.lambdify(curlyv, curlyv, dummify=True)\r\n```\r\n\r\n\n",
  "ground_truth": {
    "files": [
      "sympy/utilities/lambdify.py"
    ],
    "locations": [
      "sympy/utilities/lambdify.py::_EvaluatorPrinter",
      "sympy/utilities/lambdify.py::_EvaluatorPrinter._preprocess"
    ]
  },
  "predictions": [
    "sympy/utilities/tests/test_lambdify.py::test_dummification",
    "sympy/utilities/tests/test_lambdify.py::test_matrix",
    "sympy/utilities/tests/test_lambdify.py::test_lambdify_dummy_arg",
    "sympy/utilities/tests/test_lambdify.py::test_numpy_matrix",
    "sympy/utilities/tests/test_lambdify.py::test_numpy_old_matrix",
    "sympy/utilities/tests/test_lambdify.py::test_issue_2790",
    "sympy/utilities/tests/test_lambdify.py::test_lambdify_mixed_symbol_dummy_args",
    "sympy/plotting/experimental_lambdify.py::vectorized_lambdify.__call__",
    "sympy/utilities/tests/test_lambdify.py::test_bad_args",
    "sympy/external/tests/test_numpy.py::test_lambdify_matrix_vec_input"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "b7c5ba2bf3ffd5cf453b25af7c8ddd9a639800cb",
    "total_functions_indexed": 23949,
    "retrieval_time_seconds": 0.14502310752868652
  },
  "raw_output": "[{\"doc_id\": \"sympy/utilities/tests/test_lambdify.py::test_dummification\", \"score\": 0.5417094230651855}, {\"doc_id\": \"sympy/utilities/tests/test_lambdify.py::test_matrix\", \"score\": 0.5382945537567139}, {\"doc_id\": \"sympy/utilities/tests/test_lambdify.py::test_lambdify_dummy_arg\", \"score\": 0.5147073268890381}, {\"doc_id\": \"sympy/utilities/tests/test_lambdify.py::test_numpy_matrix\", \"score\": 0.49548232555389404}, {\"doc_id\": \"sympy/utilities/tests/test_lambdify.py::test_numpy_old_matrix\", \"score\": 0.4934619069099426}, {\"doc_id\": \"sympy/utilities/tests/test_lambdify.py::test_issue_2790\", \"score\": 0.4932940602302551}, {\"doc_id\": \"sympy/utilities/tests/test_lambdify.py::test_lambdify_mixed_symbol_dummy_args\", \"score\": 0.49205243587493896}, {\"doc_id\": \"sympy/plotting/experimental_lambdify.py::vectorized_lambdify.__call__\", \"score\": 0.49108952283859253}, {\"doc_id\": \"sympy/utilities/tests/test_lambdify.py::test_bad_args\", \"score\": 0.48941606283187866}, {\"doc_id\": \"sympy/external/tests/test_numpy.py::test_lambdify_matrix_vec_input\", \"score\": 0.4876633882522583}]"
}