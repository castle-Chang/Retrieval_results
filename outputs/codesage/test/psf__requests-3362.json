{
  "instance_id": "psf__requests-3362",
  "query": "Uncertain about content/text vs iter_content(decode_unicode=True/False)\nWhen requesting an application/json document, I'm seeing `next(r.iter_content(16*1024, decode_unicode=True))` returning bytes, whereas `r.text` returns unicode. My understanding was that both should return a unicode object. In essence, I thought \"iter_content\" was equivalent to \"iter_text\" when decode_unicode was True. Have I misunderstood something? I can provide an example if needed.\n\nFor reference, I'm using python 3.5.1 and requests 2.10.0.\n\nThanks!\n\n",
  "ground_truth": {
    "files": [
      "requests/utils.py"
    ],
    "locations": [
      "requests/utils.py::stream_decode_response_unicode"
    ]
  },
  "predictions": [
    "tests/test_requests.py::TestRequests.test_response_decode_unicode",
    "requests/utils.py::stream_decode_response_unicode",
    "requests/models.py::Response.text",
    "requests/models.py::Response.iter_content",
    "requests/packages/urllib3/response.py::HTTPResponse.read_chunked",
    "requests/utils.py::get_unicode_from_response",
    "requests/packages/urllib3/response.py::HTTPResponse.stream",
    "tests/test_requests.py::TestRequests.test_response_chunk_size_int",
    "requests/packages/urllib3/response.py::DeflateDecoder.__getattr__",
    "requests/packages/urllib3/response.py::GzipDecoder.__getattr__"
  ],
  "metadata": {
    "repo": "psf/requests",
    "commit": "36453b95b13079296776d11b09cab2567ea3e703",
    "total_functions_indexed": 808,
    "retrieval_time_seconds": 0.33252501487731934
  },
  "raw_output": "[{\"doc_id\": \"tests/test_requests.py::TestRequests.test_response_decode_unicode\", \"score\": 0.6634613275527954}, {\"doc_id\": \"requests/utils.py::stream_decode_response_unicode\", \"score\": 0.5461263656616211}, {\"doc_id\": \"requests/models.py::Response.text\", \"score\": 0.4738886058330536}, {\"doc_id\": \"requests/models.py::Response.iter_content\", \"score\": 0.4523448050022125}, {\"doc_id\": \"requests/packages/urllib3/response.py::HTTPResponse.read_chunked\", \"score\": 0.4316929578781128}, {\"doc_id\": \"requests/utils.py::get_unicode_from_response\", \"score\": 0.4197271466255188}, {\"doc_id\": \"requests/packages/urllib3/response.py::HTTPResponse.stream\", \"score\": 0.39369988441467285}, {\"doc_id\": \"tests/test_requests.py::TestRequests.test_response_chunk_size_int\", \"score\": 0.3896900713443756}, {\"doc_id\": \"requests/packages/urllib3/response.py::DeflateDecoder.__getattr__\", \"score\": 0.3768889307975769}, {\"doc_id\": \"requests/packages/urllib3/response.py::GzipDecoder.__getattr__\", \"score\": 0.37339431047439575}]"
}