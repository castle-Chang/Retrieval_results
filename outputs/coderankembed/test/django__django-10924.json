{
  "instance_id": "django__django-10924",
  "query": "Allow FilePathField path to accept a callable.\nDescription\n\t\nI have a special case where I want to create a model containing the path to some local files on the server/dev machine. Seeing as the place where these files are stored is different on different machines I have the following:\nimport os\nfrom django.conf import settings\nfrom django.db import models\nclass LocalFiles(models.Model):\n\tname = models.CharField(max_length=255)\n\tfile = models.FilePathField(path=os.path.join(settings.LOCAL_FILE_DIR, 'example_dir'))\nNow when running manage.py makemigrations it will resolve the path based on the machine it is being run on. Eg: /home/<username>/server_files/example_dir\nI had to manually change the migration to include the os.path.join() part to not break this when running the migration on production/other machine.\n",
  "ground_truth": {
    "files": [
      "django/db/models/fields/__init__.py"
    ],
    "locations": [
      "django/db/models/fields/__init__.py::FilePathField",
      "django/db/models/fields/__init__.py::FilePathField.formfield"
    ]
  },
  "predictions": [
    "django/db/models/fields/__init__.py::FilePathField.formfield",
    "django/db/models/fields/__init__.py::FilePathField.get_internal_type",
    "tests/model_fields/test_promises.py::PromiseTest.test_FilePathField",
    "django/db/models/fields/__init__.py::FilePathField.__init__",
    "tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_fix_os_paths",
    "tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_allow_folders",
    "django/db/models/fields/__init__.py::FilePathField.check",
    "tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_clean",
    "tests/field_deconstruction/tests.py::FieldDeconstructionTests.test_file_path_field",
    "django/db/models/fields/files.py::FileField.generate_filename"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "bceadd2788dc2dad53eba0caae172bd8522fd483",
    "total_functions_indexed": 22462,
    "retrieval_time_seconds": 0.007264375686645508
  },
  "raw_output": "[{\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.formfield\", \"score\": 0.5203186273574829}, {\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.get_internal_type\", \"score\": 0.5143889784812927}, {\"doc_id\": \"tests/model_fields/test_promises.py::PromiseTest.test_FilePathField\", \"score\": 0.4925386905670166}, {\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.__init__\", \"score\": 0.49145016074180603}, {\"doc_id\": \"tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_fix_os_paths\", \"score\": 0.49080032110214233}, {\"doc_id\": \"tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_allow_folders\", \"score\": 0.4754117429256439}, {\"doc_id\": \"django/db/models/fields/__init__.py::FilePathField.check\", \"score\": 0.4706980586051941}, {\"doc_id\": \"tests/forms_tests/field_tests/test_filepathfield.py::FilePathFieldTest.test_clean\", \"score\": 0.4681490659713745}, {\"doc_id\": \"tests/field_deconstruction/tests.py::FieldDeconstructionTests.test_file_path_field\", \"score\": 0.46154388785362244}, {\"doc_id\": \"django/db/models/fields/files.py::FileField.generate_filename\", \"score\": 0.45497003197669983}]"
}