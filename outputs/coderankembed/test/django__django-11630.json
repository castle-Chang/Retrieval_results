{
  "instance_id": "django__django-11630",
  "query": "Django throws error when different apps with different models have the same name table name.\nDescription\n\t\nError message:\ntable_name: (models.E028) db_table 'table_name' is used by multiple models: base.ModelName, app2.ModelName.\nWe have a Base app that points to a central database and that has its own tables. We then have multiple Apps that talk to their own databases. Some share the same table names.\nWe have used this setup for a while, but after upgrading to Django 2.2 we're getting an error saying we're not allowed 2 apps, with 2 different models to have the same table names. \nIs this correct behavior? We've had to roll back to Django 2.0 for now.\n",
  "ground_truth": {
    "files": [
      "django/core/checks/model_checks.py"
    ],
    "locations": [
      "django/core/checks/model_checks.py::check_all_models"
    ]
  },
  "predictions": [
    "tests/check_framework/test_model_checks.py::DuplicateDBTableTests.test_collision_in_same_app",
    "tests/check_framework/test_model_checks.py::DuplicateDBTableTests.test_collision_across_apps",
    "tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_table_name_clash",
    "django/db/backends/base/schema.py::BaseDatabaseSchemaEditor.alter_db_table",
    "tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_autogenerated_table_name_clash",
    "django/db/models/base.py::Model._check_model_name_db_lookup_clashes",
    "tests/check_framework/test_model_checks.py::ConstraintNameTests.test_collision_across_apps",
    "django/db/models/base.py::Model._check_column_name_clashes",
    "tests/check_framework/test_model_checks.py::IndexNameTests.test_collision_across_apps",
    "tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_field_table_name_clash"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "65e86948b80262574058a94ccaae3a9b59c3faea",
    "total_functions_indexed": 22707,
    "retrieval_time_seconds": 0.09456253051757812
  },
  "raw_output": "[{\"doc_id\": \"tests/check_framework/test_model_checks.py::DuplicateDBTableTests.test_collision_in_same_app\", \"score\": 0.6467912197113037}, {\"doc_id\": \"tests/check_framework/test_model_checks.py::DuplicateDBTableTests.test_collision_across_apps\", \"score\": 0.640727698802948}, {\"doc_id\": \"tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_table_name_clash\", \"score\": 0.5252788066864014}, {\"doc_id\": \"django/db/backends/base/schema.py::BaseDatabaseSchemaEditor.alter_db_table\", \"score\": 0.5107548236846924}, {\"doc_id\": \"tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_autogenerated_table_name_clash\", \"score\": 0.4993824064731598}, {\"doc_id\": \"django/db/models/base.py::Model._check_model_name_db_lookup_clashes\", \"score\": 0.4853249192237854}, {\"doc_id\": \"tests/check_framework/test_model_checks.py::ConstraintNameTests.test_collision_across_apps\", \"score\": 0.48468077182769775}, {\"doc_id\": \"django/db/models/base.py::Model._check_column_name_clashes\", \"score\": 0.48410773277282715}, {\"doc_id\": \"tests/check_framework/test_model_checks.py::IndexNameTests.test_collision_across_apps\", \"score\": 0.4820888042449951}, {\"doc_id\": \"tests/invalid_models_tests/test_models.py::OtherModelTests.test_m2m_field_table_name_clash\", \"score\": 0.4789591431617737}]"
}