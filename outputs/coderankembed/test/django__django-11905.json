{
  "instance_id": "django__django-11905",
  "query": "Prevent using __isnull lookup with non-boolean value.\nDescription\n\t \n\t\t(last modified by Mariusz Felisiak)\n\t \n__isnull should not allow for non-boolean values. Using truthy/falsey doesn't promote INNER JOIN to an OUTER JOIN but works fine for a simple queries. Using non-boolean values is â€‹undocumented and untested. IMO we should raise an error for non-boolean values to avoid confusion and for consistency.\n",
  "ground_truth": {
    "files": [
      "django/db/models/lookups.py"
    ],
    "locations": [
      "django/db/models/lookups.py::IsNull",
      "django/db/models/lookups.py::IsNull.as_sql"
    ]
  },
  "predictions": [
    "tests/foreign_object/tests.py::MultiColumnFKTests.test_isnull_lookup",
    "django/db/models/sql/query.py::Query.is_nullable",
    "tests/queries/tests.py::NullJoinPromotionOrTest.test_isnull_filter_promotion",
    "django/db/models/lookups.py::IsNull.as_sql",
    "tests/gis_tests/layermap/tests.py::LayerMapTest.test_nullable_boolean_imported",
    "tests/null_queries/tests.py::NullQueriesTests.test_none_as_null",
    "tests/null_fk/tests.py::NullFkTests.test_combine_isnull",
    "django/db/migrations/questioner.py::InteractiveMigrationQuestioner.ask_not_null_alteration",
    "tests/gis_tests/geoapp/tests.py::GeoLookupTest.test_null_geometries",
    "tests/queries/tests.py::NullJoinPromotionOrTest.test_null_join_demotion"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "2f72480fbd27896c986c45193e1603e35c0b19a7",
    "total_functions_indexed": 22904,
    "retrieval_time_seconds": 0.04724693298339844
  },
  "raw_output": "[{\"doc_id\": \"tests/foreign_object/tests.py::MultiColumnFKTests.test_isnull_lookup\", \"score\": 0.42701011896133423}, {\"doc_id\": \"django/db/models/sql/query.py::Query.is_nullable\", \"score\": 0.37649986147880554}, {\"doc_id\": \"tests/queries/tests.py::NullJoinPromotionOrTest.test_isnull_filter_promotion\", \"score\": 0.3698972463607788}, {\"doc_id\": \"django/db/models/lookups.py::IsNull.as_sql\", \"score\": 0.36695459485054016}, {\"doc_id\": \"tests/gis_tests/layermap/tests.py::LayerMapTest.test_nullable_boolean_imported\", \"score\": 0.3589175343513489}, {\"doc_id\": \"tests/null_queries/tests.py::NullQueriesTests.test_none_as_null\", \"score\": 0.35727936029434204}, {\"doc_id\": \"tests/null_fk/tests.py::NullFkTests.test_combine_isnull\", \"score\": 0.3549235165119171}, {\"doc_id\": \"django/db/migrations/questioner.py::InteractiveMigrationQuestioner.ask_not_null_alteration\", \"score\": 0.341796338558197}, {\"doc_id\": \"tests/gis_tests/geoapp/tests.py::GeoLookupTest.test_null_geometries\", \"score\": 0.3414478302001953}, {\"doc_id\": \"tests/queries/tests.py::NullJoinPromotionOrTest.test_null_join_demotion\", \"score\": 0.3407566249370575}]"
}