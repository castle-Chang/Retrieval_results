{
  "instance_id": "sphinx-doc__sphinx-10451",
  "query": "Fix duplicated *args and **kwargs with autodoc_typehints\nFix duplicated *args and **kwargs with autodoc_typehints\r\n\r\n### Bugfix\r\n- Bugfix\r\n\r\n### Detail\r\nConsider this\r\n```python\r\nclass _ClassWithDocumentedInitAndStarArgs:\r\n    \"\"\"Class docstring.\"\"\"\r\n\r\n    def __init__(self, x: int, *args: int, **kwargs: int) -> None:\r\n        \"\"\"Init docstring.\r\n\r\n        :param x: Some integer\r\n        :param *args: Some integer\r\n        :param **kwargs: Some integer\r\n        \"\"\"\r\n```\r\nwhen using the autodoc extension and the setting `autodoc_typehints = \"description\"`.\r\n\r\nWIth sphinx 4.2.0, the current output is\r\n```\r\nClass docstring.\r\n\r\n   Parameters:\r\n      * **x** (*int*) --\r\n\r\n      * **args** (*int*) --\r\n\r\n      * **kwargs** (*int*) --\r\n\r\n   Return type:\r\n      None\r\n\r\n   __init__(x, *args, **kwargs)\r\n\r\n      Init docstring.\r\n\r\n      Parameters:\r\n         * **x** (*int*) -- Some integer\r\n\r\n         * ***args** --\r\n\r\n           Some integer\r\n\r\n         * ****kwargs** --\r\n\r\n           Some integer\r\n\r\n         * **args** (*int*) --\r\n\r\n         * **kwargs** (*int*) --\r\n\r\n      Return type:\r\n         None\r\n```\r\nwhere the *args and **kwargs are duplicated and incomplete.\r\n\r\nThe expected output is\r\n```\r\n  Class docstring.\r\n\r\n   Parameters:\r\n      * **x** (*int*) --\r\n\r\n      * ***args** (*int*) --\r\n\r\n      * ****kwargs** (*int*) --\r\n\r\n   Return type:\r\n      None\r\n\r\n   __init__(x, *args, **kwargs)\r\n\r\n      Init docstring.\r\n\r\n      Parameters:\r\n         * **x** (*int*) -- Some integer\r\n\r\n         * ***args** (*int*) --\r\n\r\n           Some integer\r\n\r\n         * ****kwargs** (*int*) --\r\n\r\n           Some integer\r\n\r\n      Return type:\r\n         None\r\n\r\n```\n",
  "ground_truth": {
    "files": [
      "sphinx/ext/autodoc/typehints.py"
    ],
    "locations": [
      "sphinx/ext/autodoc/typehints.py::modify_field_list",
      "sphinx/ext/autodoc/typehints.py::augment_descriptions_with_types"
    ]
  },
  "predictions": [
    "tests/roots/test-ext-autodoc/target/typehints.py::_ClassWithDocumentedInit.__init__",
    "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc_doc_rtype",
    "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc",
    "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init",
    "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc",
    "sphinx/ext/autodoc/__init__.py::ClassDocumenter.format_args",
    "tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc_doc_rtype",
    "sphinx/ext/autodoc/__init__.py::MethodDocumenter.format_args",
    "sphinx/ext/autodoc/__init__.py::ClassDocumenter.__init__",
    "sphinx/ext/autodoc/__init__.py::FunctionDocumenter.format_args"
  ],
  "metadata": {
    "repo": "sphinx-doc/sphinx",
    "commit": "195e911f1dab04b8ddeacbe04b7d214aaf81bb0b",
    "total_functions_indexed": 5839,
    "retrieval_time_seconds": 0.0014469623565673828
  },
  "raw_output": "[{\"doc_id\": \"tests/roots/test-ext-autodoc/target/typehints.py::_ClassWithDocumentedInit.__init__\", \"score\": 0.8138949871063232}, {\"doc_id\": \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc_doc_rtype\", \"score\": 0.7942140102386475}, {\"doc_id\": \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init_no_undoc\", \"score\": 0.7941718101501465}, {\"doc_id\": \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_with_documented_init\", \"score\": 0.7937287092208862}, {\"doc_id\": \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc\", \"score\": 0.7555633783340454}, {\"doc_id\": \"sphinx/ext/autodoc/__init__.py::ClassDocumenter.format_args\", \"score\": 0.7547811269760132}, {\"doc_id\": \"tests/test_ext_autodoc_configs.py::test_autodoc_typehints_description_no_undoc_doc_rtype\", \"score\": 0.7512500882148743}, {\"doc_id\": \"sphinx/ext/autodoc/__init__.py::MethodDocumenter.format_args\", \"score\": 0.7502659559249878}, {\"doc_id\": \"sphinx/ext/autodoc/__init__.py::ClassDocumenter.__init__\", \"score\": 0.746112585067749}, {\"doc_id\": \"sphinx/ext/autodoc/__init__.py::FunctionDocumenter.format_args\", \"score\": 0.7441678643226624}]"
}