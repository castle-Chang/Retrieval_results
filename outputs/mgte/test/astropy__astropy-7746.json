{
  "instance_id": "astropy__astropy-7746",
  "query": "Issue when passing empty lists/arrays to WCS transformations\nThe following should not fail but instead should return empty lists/arrays:\r\n\r\n```\r\nIn [1]: from astropy.wcs import WCS\r\n\r\nIn [2]: wcs = WCS('2MASS_h.fits')\r\n\r\nIn [3]: wcs.wcs_pix2world([], [], 0)\r\n---------------------------------------------------------------------------\r\nInconsistentAxisTypesError                Traceback (most recent call last)\r\n<ipython-input-3-e2cc0e97941a> in <module>()\r\n----> 1 wcs.wcs_pix2world([], [], 0)\r\n\r\n~/Dropbox/Code/Astropy/astropy/astropy/wcs/wcs.py in wcs_pix2world(self, *args, **kwargs)\r\n   1352         return self._array_converter(\r\n   1353             lambda xy, o: self.wcs.p2s(xy, o)['world'],\r\n-> 1354             'output', *args, **kwargs)\r\n   1355     wcs_pix2world.__doc__ = \"\"\"\r\n   1356         Transforms pixel coordinates to world coordinates by doing\r\n\r\n~/Dropbox/Code/Astropy/astropy/astropy/wcs/wcs.py in _array_converter(self, func, sky, ra_dec_order, *args)\r\n   1267                     \"a 1-D array for each axis, followed by an origin.\")\r\n   1268 \r\n-> 1269             return _return_list_of_arrays(axes, origin)\r\n   1270 \r\n   1271         raise TypeError(\r\n\r\n~/Dropbox/Code/Astropy/astropy/astropy/wcs/wcs.py in _return_list_of_arrays(axes, origin)\r\n   1223             if ra_dec_order and sky == 'input':\r\n   1224                 xy = self._denormalize_sky(xy)\r\n-> 1225             output = func(xy, origin)\r\n   1226             if ra_dec_order and sky == 'output':\r\n   1227                 output = self._normalize_sky(output)\r\n\r\n~/Dropbox/Code/Astropy/astropy/astropy/wcs/wcs.py in <lambda>(xy, o)\r\n   1351             raise ValueError(\"No basic WCS settings were created.\")\r\n   1352         return self._array_converter(\r\n-> 1353             lambda xy, o: self.wcs.p2s(xy, o)['world'],\r\n   1354             'output', *args, **kwargs)\r\n   1355     wcs_pix2world.__doc__ = \"\"\"\r\n\r\nInconsistentAxisTypesError: ERROR 4 in wcsp2s() at line 2646 of file cextern/wcslib/C/wcs.c:\r\nncoord and/or nelem inconsistent with the wcsprm.\r\n```\n",
  "ground_truth": {
    "files": [
      "astropy/wcs/wcs.py"
    ],
    "locations": [
      "astropy/wcs/wcs.py::WCS",
      "astropy/wcs/wcs.py::WCS._array_converter"
    ]
  },
  "predictions": [
    "astropy/wcs/wcs.py::WCS.all_world2pix",
    "astropy/wcs/wcs.py::WCS._array_converter",
    "astropy/wcs/wcs.py::WCS.wcs_pix2world",
    "astropy/wcs/wcs.py::WCS.wcs_world2pix",
    "astropy/wcs/wcs.py::WCS.all_pix2world",
    "astropy/visualization/wcsaxes/transforms.py::WCSWorld2PixelTransform.transform",
    "astropy/visualization/wcsaxes/core.py::WCSAxes._get_transform_no_transdata",
    "astropy/visualization/wcsaxes/transforms.py::WCSWorld2PixelTransform.__init__",
    "astropy/visualization/wcsaxes/transforms.py::WCSPixel2WorldTransform.transform",
    "astropy/wcs/wcs.py::WCS._normalize_sky"
  ],
  "metadata": {
    "repo": "astropy/astropy",
    "commit": "d5bd3f68bb6d5ce3a61bdce9883ee750d1afade5",
    "total_functions_indexed": 10262,
    "retrieval_time_seconds": 0.0031557083129882812
  },
  "raw_output": "[{\"doc_id\": \"astropy/wcs/wcs.py::WCS.all_world2pix\", \"score\": 0.8357762098312378}, {\"doc_id\": \"astropy/wcs/wcs.py::WCS._array_converter\", \"score\": 0.8351702690124512}, {\"doc_id\": \"astropy/wcs/wcs.py::WCS.wcs_pix2world\", \"score\": 0.8335469365119934}, {\"doc_id\": \"astropy/wcs/wcs.py::WCS.wcs_world2pix\", \"score\": 0.8321263790130615}, {\"doc_id\": \"astropy/wcs/wcs.py::WCS.all_pix2world\", \"score\": 0.8069084286689758}, {\"doc_id\": \"astropy/visualization/wcsaxes/transforms.py::WCSWorld2PixelTransform.transform\", \"score\": 0.8056951761245728}, {\"doc_id\": \"astropy/visualization/wcsaxes/core.py::WCSAxes._get_transform_no_transdata\", \"score\": 0.7927558422088623}, {\"doc_id\": \"astropy/visualization/wcsaxes/transforms.py::WCSWorld2PixelTransform.__init__\", \"score\": 0.7913544178009033}, {\"doc_id\": \"astropy/visualization/wcsaxes/transforms.py::WCSPixel2WorldTransform.transform\", \"score\": 0.7867134809494019}, {\"doc_id\": \"astropy/wcs/wcs.py::WCS._normalize_sky\", \"score\": 0.78172367811203}]"
}