{
  "instance_id": "django__django-11742",
  "query": "Add check to ensure max_length fits longest choice.\nDescription\n\t\nThere is currently no check to ensure that Field.max_length is large enough to fit the longest value in Field.choices.\nThis would be very helpful as often this mistake is not noticed until an attempt is made to save a record with those values that are too long.\n",
  "ground_truth": {
    "files": [
      "django/db/models/fields/__init__.py"
    ],
    "locations": [
      "django/db/models/fields/__init__.py::Field",
      "django/db/models/fields/__init__.py::Field._check_choices"
    ]
  },
  "predictions": [
    "tests/invalid_models_tests/test_ordinary_fields.py::AutoFieldTests.test_max_length_warning",
    "django/db/models/fields/__init__.py::CharField.check",
    "django/db/models/fields/__init__.py::CharField._check_max_length_attribute",
    "django/db/models/fields/__init__.py::IntegerField._check_max_length_warning",
    "tests/max_lengths/tests.py::MaxLengthArgumentsTests.verify_max_length",
    "tests/invalid_models_tests/test_ordinary_fields.py::IntegerFieldTests.test_max_length_warning",
    "django/db/models/fields/__init__.py::TextField.formfield",
    "django/db/models/fields/__init__.py::CharField.__init__",
    "tests/invalid_models_tests/test_ordinary_fields.py::CharFieldTests.test_missing_max_length",
    "django/db/models/fields/__init__.py::IntegerField.check"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "fee75d2aed4e58ada6567c464cfd22e89dc65f4a",
    "total_functions_indexed": 22837,
    "retrieval_time_seconds": 0.00649714469909668
  },
  "raw_output": "[{\"doc_id\": \"tests/invalid_models_tests/test_ordinary_fields.py::AutoFieldTests.test_max_length_warning\", \"score\": 0.7319183945655823}, {\"doc_id\": \"django/db/models/fields/__init__.py::CharField.check\", \"score\": 0.7286844849586487}, {\"doc_id\": \"django/db/models/fields/__init__.py::CharField._check_max_length_attribute\", \"score\": 0.7247104048728943}, {\"doc_id\": \"django/db/models/fields/__init__.py::IntegerField._check_max_length_warning\", \"score\": 0.7244174480438232}, {\"doc_id\": \"tests/max_lengths/tests.py::MaxLengthArgumentsTests.verify_max_length\", \"score\": 0.7193793654441833}, {\"doc_id\": \"tests/invalid_models_tests/test_ordinary_fields.py::IntegerFieldTests.test_max_length_warning\", \"score\": 0.6996386051177979}, {\"doc_id\": \"django/db/models/fields/__init__.py::TextField.formfield\", \"score\": 0.6958752870559692}, {\"doc_id\": \"django/db/models/fields/__init__.py::CharField.__init__\", \"score\": 0.6913321018218994}, {\"doc_id\": \"tests/invalid_models_tests/test_ordinary_fields.py::CharFieldTests.test_missing_max_length\", \"score\": 0.6909902095794678}, {\"doc_id\": \"django/db/models/fields/__init__.py::IntegerField.check\", \"score\": 0.6905751824378967}]"
}