{
  "instance_id": "django__django-11905",
  "query": "Prevent using __isnull lookup with non-boolean value.\nDescription\n\t \n\t\t(last modified by Mariusz Felisiak)\n\t \n__isnull should not allow for non-boolean values. Using truthy/falsey doesn't promote INNER JOIN to an OUTER JOIN but works fine for a simple queries. Using non-boolean values is â€‹undocumented and untested. IMO we should raise an error for non-boolean values to avoid confusion and for consistency.\n",
  "ground_truth": {
    "files": [
      "django/db/models/lookups.py"
    ],
    "locations": [
      "django/db/models/lookups.py::IsNull",
      "django/db/models/lookups.py::IsNull.as_sql"
    ]
  },
  "predictions": [
    "django/db/models/sql/query.py::Query.is_nullable",
    "tests/queries/tests.py::NullJoinPromotionOrTest.test_isnull_filter_promotion",
    "tests/queries/tests.py::NullJoinPromotionOrTest.test_null_join_demotion",
    "tests/queries/tests.py::NullJoinPromotionOrTest.test_ticket_17886",
    "tests/queries/tests.py::ValuesJoinPromotionTests.test_non_nullable_fk_not_promoted",
    "tests/queries/tests.py::NullInExcludeTest.test_null_in_exclude_qs",
    "django/db/models/sql/query.py::Query.split_exclude",
    "tests/queries/tests.py::NullInExcludeTest.test_col_not_in_list_containing_null",
    "tests/null_queries/tests.py::NullQueriesTests.test_none_as_null",
    "django/db/models/sql/query.py::Query.promote_joins"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "2f72480fbd27896c986c45193e1603e35c0b19a7",
    "total_functions_indexed": 22904,
    "retrieval_time_seconds": 0.006514787673950195
  },
  "raw_output": "[{\"doc_id\": \"django/db/models/sql/query.py::Query.is_nullable\", \"score\": 0.6651990413665771}, {\"doc_id\": \"tests/queries/tests.py::NullJoinPromotionOrTest.test_isnull_filter_promotion\", \"score\": 0.6642802357673645}, {\"doc_id\": \"tests/queries/tests.py::NullJoinPromotionOrTest.test_null_join_demotion\", \"score\": 0.6621796488761902}, {\"doc_id\": \"tests/queries/tests.py::NullJoinPromotionOrTest.test_ticket_17886\", \"score\": 0.6594609022140503}, {\"doc_id\": \"tests/queries/tests.py::ValuesJoinPromotionTests.test_non_nullable_fk_not_promoted\", \"score\": 0.6576080322265625}, {\"doc_id\": \"tests/queries/tests.py::NullInExcludeTest.test_null_in_exclude_qs\", \"score\": 0.6520208120346069}, {\"doc_id\": \"django/db/models/sql/query.py::Query.split_exclude\", \"score\": 0.6448981165885925}, {\"doc_id\": \"tests/queries/tests.py::NullInExcludeTest.test_col_not_in_list_containing_null\", \"score\": 0.6444306969642639}, {\"doc_id\": \"tests/null_queries/tests.py::NullQueriesTests.test_none_as_null\", \"score\": 0.6424786448478699}, {\"doc_id\": \"django/db/models/sql/query.py::Query.promote_joins\", \"score\": 0.6400066614151001}]"
}