{
  "instance_id": "sympy__sympy-14817",
  "query": "Error pretty printing MatAdd\n```py\r\n>>> pprint(MatrixSymbol('x', n, n) + MatrixSymbol('y*', n, n))\r\nTraceback (most recent call last):\r\n  File \"./sympy/core/sympify.py\", line 368, in sympify\r\n    expr = parse_expr(a, local_dict=locals, transformations=transformations, evaluate=evaluate)\r\n  File \"./sympy/parsing/sympy_parser.py\", line 950, in parse_expr\r\n    return eval_expr(code, local_dict, global_dict)\r\n  File \"./sympy/parsing/sympy_parser.py\", line 863, in eval_expr\r\n    code, global_dict, local_dict)  # take local objects in preference\r\n  File \"<string>\", line 1\r\n    Symbol ('y' )*\r\n                 ^\r\nSyntaxError: unexpected EOF while parsing\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"./sympy/printing/pretty/pretty.py\", line 2371, in pretty_print\r\n    use_unicode_sqrt_char=use_unicode_sqrt_char))\r\n  File \"./sympy/printing/pretty/pretty.py\", line 2331, in pretty\r\n    return pp.doprint(expr)\r\n  File \"./sympy/printing/pretty/pretty.py\", line 62, in doprint\r\n    return self._print(expr).render(**self._settings)\r\n  File \"./sympy/printing/printer.py\", line 274, in _print\r\n    return getattr(self, printmethod)(expr, *args, **kwargs)\r\n  File \"./sympy/printing/pretty/pretty.py\", line 828, in _print_MatAdd\r\n    if S(item.args[0]).is_negative:\r\n  File \"./sympy/core/sympify.py\", line 370, in sympify\r\n    raise SympifyError('could not parse %r' % a, exc)\r\nsympy.core.sympify.SympifyError: Sympify of expression 'could not parse 'y*'' failed, because of exception being raised:\r\nSyntaxError: unexpected EOF while parsing (<string>, line 1)\r\n```\r\n\r\nThe code shouldn't be using sympify to handle string arguments from MatrixSymbol.\r\n\r\nI don't even understand what the code is doing. Why does it omit the `+` when the first argument is negative? This seems to assume that the arguments of MatAdd have a certain form, and that they will always print a certain way if they are negative. \n",
  "ground_truth": {
    "files": [
      "sympy/printing/pretty/pretty.py"
    ],
    "locations": [
      "sympy/printing/pretty/pretty.py::PrettyPrinter",
      "sympy/printing/pretty/pretty.py::PrettyPrinter._print_MatAdd"
    ]
  },
  "predictions": [
    "sympy/printing/str.py::StrPrinter._print_MatAdd",
    "sympy/core/tests/test_args.py::test_sympy__matrices__expressions__matadd__MatAdd",
    "sympy/core/tests/test_args.py::test_sympy__matrices__expressions__matexpr__MatrixSymbol",
    "sympy/printing/pretty/pretty.py::PrettyPrinter._print_MatAdd",
    "sympy/printing/latex.py::LatexPrinter._print_MatAdd",
    "sympy/printing/pretty/pretty.py::PrettyPrinter._print_MatrixElement",
    "sympy/printing/pretty/pretty.py::PrettyPrinter._print_Add",
    "sympy/assumptions/handlers/matrices.py::AskSymmetricHandler.MatAdd",
    "sympy/core/add.py::Add._eval_is_negative",
    "sympy/core/add.py::Add._eval_is_positive"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "0dbdc0ea83d339936da175f8c3a97d0d6bafb9f8",
    "total_functions_indexed": 23185,
    "retrieval_time_seconds": 0.0931849479675293
  },
  "raw_output": "[{\"doc_id\": \"sympy/printing/str.py::StrPrinter._print_MatAdd\", \"score\": 0.7855343222618103}, {\"doc_id\": \"sympy/core/tests/test_args.py::test_sympy__matrices__expressions__matadd__MatAdd\", \"score\": 0.7719843983650208}, {\"doc_id\": \"sympy/core/tests/test_args.py::test_sympy__matrices__expressions__matexpr__MatrixSymbol\", \"score\": 0.7641164064407349}, {\"doc_id\": \"sympy/printing/pretty/pretty.py::PrettyPrinter._print_MatAdd\", \"score\": 0.7615591287612915}, {\"doc_id\": \"sympy/printing/latex.py::LatexPrinter._print_MatAdd\", \"score\": 0.7614870071411133}, {\"doc_id\": \"sympy/printing/pretty/pretty.py::PrettyPrinter._print_MatrixElement\", \"score\": 0.7558128833770752}, {\"doc_id\": \"sympy/printing/pretty/pretty.py::PrettyPrinter._print_Add\", \"score\": 0.7541420459747314}, {\"doc_id\": \"sympy/assumptions/handlers/matrices.py::AskSymmetricHandler.MatAdd\", \"score\": 0.7475653886795044}, {\"doc_id\": \"sympy/core/add.py::Add._eval_is_negative\", \"score\": 0.7471240162849426}, {\"doc_id\": \"sympy/core/add.py::Add._eval_is_positive\", \"score\": 0.7450408935546875}]"
}