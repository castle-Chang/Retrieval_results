{
  "instance_id": "sympy__sympy-13031",
  "query": "Behavior of Matrix hstack and vstack changed in sympy 1.1\nIn sympy 1.0:\r\n```\r\nimport sympy as sy\r\nM1 = sy.Matrix.zeros(0, 0)\r\nM2 = sy.Matrix.zeros(0, 1)\r\nM3 = sy.Matrix.zeros(0, 2)\r\nM4 = sy.Matrix.zeros(0, 3)\r\nsy.Matrix.hstack(M1, M2, M3, M4).shape\r\n```\r\nreturns \r\n`(0, 6)`\r\n\r\nNow, same in sympy 1.1:\r\n```\r\nimport sympy as sy\r\nM1 = sy.Matrix.zeros(0, 0)\r\nM2 = sy.Matrix.zeros(0, 1)\r\nM3 = sy.Matrix.zeros(0, 2)\r\nM4 = sy.Matrix.zeros(0, 3)\r\nsy.Matrix.hstack(M1, M2, M3, M4).shape\r\n```\r\nreturns\r\n`(0, 3)\r\n`\r\nwhereas:\r\n```\r\nimport sympy as sy\r\nM1 = sy.Matrix.zeros(1, 0)\r\nM2 = sy.Matrix.zeros(1, 1)\r\nM3 = sy.Matrix.zeros(1, 2)\r\nM4 = sy.Matrix.zeros(1, 3)\r\nsy.Matrix.hstack(M1, M2, M3, M4).shape\r\n```\r\nreturns\r\n`(1, 6)\r\n`\n",
  "ground_truth": {
    "files": [
      "sympy/matrices/sparse.py"
    ],
    "locations": [
      "sympy/matrices/sparse.py::MutableSparseMatrix",
      "sympy/matrices/sparse.py::MutableSparseMatrix.col_join",
      "sympy/matrices/sparse.py::MutableSparseMatrix.row_join"
    ]
  },
  "predictions": [
    "sympy/matrices/common.py::MatrixShaping.hstack",
    "sympy/matrices/tests/test_commonmatrix.py::test_vstack",
    "sympy/matrices/common.py::MatrixShaping.vstack",
    "sympy/matrices/tests/test_commonmatrix.py::test_hstack",
    "sympy/matrices/tests/test_matrices.py::test_issue_11944",
    "sympy/matrices/immutable.py::sympify_matrix",
    "sympy/polys/agca/homomorphisms.py::MatrixHomomorphism._sympy_matrix",
    "sympy/physics/quantum/tests/test_matrixutils.py::test_matrix_zeros_sympy",
    "sympy/physics/quantum/matrixcache.py::MatrixCache._sympy_matrix",
    "sympy/matrices/common.py::MatrixShaping.vec"
  ],
  "metadata": {
    "repo": "sympy/sympy",
    "commit": "2dfa7457f20ee187fbb09b5b6a1631da4458388c",
    "total_functions_indexed": 20881,
    "retrieval_time_seconds": 0.007307291030883789
  },
  "raw_output": "[{\"doc_id\": \"sympy/matrices/common.py::MatrixShaping.hstack\", \"score\": 0.7416722774505615}, {\"doc_id\": \"sympy/matrices/tests/test_commonmatrix.py::test_vstack\", \"score\": 0.7397434115409851}, {\"doc_id\": \"sympy/matrices/common.py::MatrixShaping.vstack\", \"score\": 0.7367868423461914}, {\"doc_id\": \"sympy/matrices/tests/test_commonmatrix.py::test_hstack\", \"score\": 0.734594464302063}, {\"doc_id\": \"sympy/matrices/tests/test_matrices.py::test_issue_11944\", \"score\": 0.7334535121917725}, {\"doc_id\": \"sympy/matrices/immutable.py::sympify_matrix\", \"score\": 0.7102483510971069}, {\"doc_id\": \"sympy/polys/agca/homomorphisms.py::MatrixHomomorphism._sympy_matrix\", \"score\": 0.7082961797714233}, {\"doc_id\": \"sympy/physics/quantum/tests/test_matrixutils.py::test_matrix_zeros_sympy\", \"score\": 0.7069776654243469}, {\"doc_id\": \"sympy/physics/quantum/matrixcache.py::MatrixCache._sympy_matrix\", \"score\": 0.6995765566825867}, {\"doc_id\": \"sympy/matrices/common.py::MatrixShaping.vec\", \"score\": 0.6995313167572021}]"
}