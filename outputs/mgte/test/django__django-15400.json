{
  "instance_id": "django__django-15400",
  "query": "SimpleLazyObject doesn't implement __radd__\nDescription\n\t\nTechnically, there's a whole bunch of magic methods it doesn't implement, compared to a complete proxy implementation, like that of wrapt.ObjectProxy, but __radd__ being missing is the one that's biting me at the moment.\nAs far as I can tell, the implementation can't just be\n__radd__ = new_method_proxy(operator.radd)\nbecause that doesn't exist, which is rubbish.\n__radd__ = new_method_proxy(operator.attrgetter(\"__radd__\"))\nalso won't work because types may not have that attr, and attrgetter doesn't supress the exception (correctly)\nThe minimal implementation I've found that works for me is:\n\tdef __radd__(self, other):\n\t\tif self._wrapped is empty:\n\t\t\tself._setup()\n\t\treturn other + self._wrapped\n",
  "ground_truth": {
    "files": [
      "django/utils/functional.py"
    ],
    "locations": [
      "django/utils/functional.py::SimpleLazyObject",
      "django/utils/functional.py::SimpleLazyObject.__deepcopy__",
      "django/utils/functional.py::partition"
    ]
  },
  "predictions": [
    "tests/utils_tests/test_lazyobject.py::LazyObjectTestCase.lazy_wrap",
    "tests/utils_tests/test_lazyobject.py::SimpleLazyObjectTestCase.lazy_wrap",
    "django/utils/functional.py::SimpleLazyObject.__copy__",
    "django/utils/functional.py::LazyObject.__reduce__",
    "django/utils/functional.py::new_method_proxy",
    "django/db/models/expressions.py::Combinable.__radd__",
    "django/utils/functional.py::LazyObject._setup",
    "django/utils/functional.py::lazy",
    "django/utils/functional.py::SimpleLazyObject.__init__",
    "django/utils/functional.py::SimpleLazyObject.__deepcopy__"
  ],
  "metadata": {
    "repo": "django/django",
    "commit": "4c76ffc2d6c77c850b4bef8d9acc197d11c47937",
    "total_functions_indexed": 25616,
    "retrieval_time_seconds": 0.1622612476348877
  },
  "raw_output": "[{\"doc_id\": \"tests/utils_tests/test_lazyobject.py::LazyObjectTestCase.lazy_wrap\", \"score\": 0.6836028099060059}, {\"doc_id\": \"tests/utils_tests/test_lazyobject.py::SimpleLazyObjectTestCase.lazy_wrap\", \"score\": 0.6829209327697754}, {\"doc_id\": \"django/utils/functional.py::SimpleLazyObject.__copy__\", \"score\": 0.676200270652771}, {\"doc_id\": \"django/utils/functional.py::LazyObject.__reduce__\", \"score\": 0.675961971282959}, {\"doc_id\": \"django/utils/functional.py::new_method_proxy\", \"score\": 0.6703548431396484}, {\"doc_id\": \"django/db/models/expressions.py::Combinable.__radd__\", \"score\": 0.6605886220932007}, {\"doc_id\": \"django/utils/functional.py::LazyObject._setup\", \"score\": 0.6559080481529236}, {\"doc_id\": \"django/utils/functional.py::lazy\", \"score\": 0.6513693332672119}, {\"doc_id\": \"django/utils/functional.py::SimpleLazyObject.__init__\", \"score\": 0.6469063758850098}, {\"doc_id\": \"django/utils/functional.py::SimpleLazyObject.__deepcopy__\", \"score\": 0.6442937850952148}]"
}